"use strict";(self.webpackChunksingulatron_api_docs=self.webpackChunksingulatron_api_docs||[]).push([[7373],{34204:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>r});const a=JSON.parse('{"id":"command-line/basics","title":"Command line basics","description":"CLI installation","source":"@site/docs/command-line/basics.md","sourceDirName":"command-line","slug":"/command-line/basics","permalink":"/docs/command-line/basics","draft":false,"unlisted":false,"editUrl":"https://github.com/1backend/1backend/tree/main/docs-source/docs/command-line/basics.md","tags":[{"inline":true,"label":"cli","permalink":"/docs/tags/cli"}],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"tags":["cli"]},"sidebar":"tutorialSidebar","previous":{"title":"Command line","permalink":"/docs/category/command-line"},"next":{"title":"Contributing","permalink":"/docs/category/contributing"}}');var t=s(74848),c=s(28453);const i={sidebar_position:2,tags:["cli"]},l="Command line basics",o={},r=[{value:"CLI installation",id:"cli-installation",level:2},{value:"CLI usage",id:"cli-usage",level:2},{value:"CLI flag to request body mapping",id:"cli-flag-to-request-body-mapping",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"command-line-basics",children:"Command line basics"})}),"\n",(0,t.jsx)(n.h2,{id:"cli-installation",children:"CLI installation"}),"\n",(0,t.jsx)(n.p,{children:"At the moment you need Go to install the 1Backend CLI:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"go install github.com/1backend/1backend/cli/oo@latest\n"})}),"\n",(0,t.jsx)(n.h2,{id:"cli-usage",children:"CLI usage"}),"\n",(0,t.jsxs)(n.p,{children:["Assuming the daemon is running already (see ",(0,t.jsx)(n.a,{href:"/docs/running-the-server/using#default-credentials",children:"this section about that"}),"), you can interact with it through the CLI."]}),"\n",(0,t.jsx)(n.p,{children:"Let's add the local environment first:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"$ oo env add local http://127.0.0.1:11337\n$ oo env ls\nSELECTED   NAME    URL                           DESCRIPTION\n*          local   http://127.0.0.1:11337\n"})}),"\n",(0,t.jsx)(n.p,{children:"After this you you need to log in:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"$ oo login 1backend\nEnter password:\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"$ oo whoami\nslug: 1backend\nid: usr_eH9mXKgmb0\nroles:\n- user-svc:admin\n"})}),"\n",(0,t.jsx)(n.p,{children:"Let's make a GET call:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:'$ oo get /config-svc/config\n{"config":{"namespace":"","data":{"config-svc":{"directory":"/root"},"download-svc":{"downloadFolder":"/root/downloads"},"model-svc":{"currentModelId":"huggingface/TheBloke/mistral-7b-instruct-v0.2.Q3_K_S.gguf"}}}}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Or a POST call:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:'$ oo post /user-svc/users\n{\n  "users": [\n\n    {\n      "id": "usr_e9WSYwjRuL",\n      "createdAt": "2024-12-06T20:51:38.062985Z",\n      "updatedAt": "2024-12-06T20:51:38.062985Z",\n      "name": "Proxy Service",\n      "slug": "proxy-svc",\n      "contacts": [\n        {\n          "createdAt": "0001-01-01T00:00:00Z",\n          "updatedAt": "0001-01-01T00:00:00Z"\n        }\n      ]\n    },\n...\n'})}),"\n",(0,t.jsx)(n.p,{children:"Or a POST call with some request body parameters:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:'$ oo post /secret-svc/encrypt --value=hey\n{\n  "value": "UsoGq6VCa0+89pzIPhgU49kgoL0p/3jc90IsOR/8ldk="\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Here we should talk a bit about how CLI flags get mapped to request bodies."}),"\n",(0,t.jsx)(n.h2,{id:"cli-flag-to-request-body-mapping",children:"CLI flag to request body mapping"}),"\n",(0,t.jsxs)(n.p,{children:["When doing ",(0,t.jsx)(n.code,{children:"POST"}),", ",(0,t.jsx)(n.code,{children:"PUT"})," and ",(0,t.jsx)(n.code,{children:"DELETE"})," queries, CLI flags can be turned into multilevel JSON request bodies, such as this:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"$ oo post /secret-svc/encrypt --value=hey\n"})}),"\n",(0,t.jsx)(n.p,{children:"Is roughly equivalent to the pseudocurl"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:'curl -XPOST -H "Auth..." $ADDR/secret-svc/encrypt -d \'{"value": "hey"}\'\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Similarly, dot ",(0,t.jsx)(n.code,{children:"."})," and dash ",(0,t.jsx)(n.code,{children:"-"})," delimiters get turned into a multidimensional JSON:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:'$ oo post /secret-svc/encrypt --value-text=hey\n# turns into\n{\n  "value": {\n    "text": "hey"\n  }\n}\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:'$ oo post /secret-svc/encrypt --value.text=hey\n# turns into\n{\n  "value": {\n    "text": "hey"\n  }\n}\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:'$ oo post /secret-svc/encrypt --valueText=hey\n# turns into\n{\n  "valueText": "hey"\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>l});var a=s(96540);const t={},c=a.createContext(t);function i(e){const n=a.useContext(c);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),a.createElement(c.Provider,{value:n},e.children)}}}]);