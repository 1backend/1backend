"use strict";(self.webpackChunksingulatron_api_docs=self.webpackChunksingulatron_api_docs||[]).push([[586],{80694:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>f,contentTitle:()=>y,default:()=>v,frontMatter:()=>b,metadata:()=>t,toc:()=>k});const t=JSON.parse('{"id":"1backend/save-permissions","title":"Save Permissions","description":"Creates or updates a list of permissions.","source":"@site/docs/1backend/save-permissions.api.mdx","sourceDirName":"1backend","slug":"/1backend/save-permissions","permalink":"/docs/1backend/save-permissions","draft":false,"unlisted":false,"editUrl":null,"tags":[],"version":"current","frontMatter":{"id":"save-permissions","title":"Save Permissions","description":"Creates or updates a list of permissions.","sidebar_label":"Save Permissions","hide_title":true,"hide_table_of_contents":true,"api":"eJztV+9u2zYQf5UDv3QDFClpVmATimJJWwxe/wV1U2CIA+RMnSU2FKmSlF3PELCH2BPuSYajLNtx3AJDsW/5Ikjk3fHufnc/nlaiIC+daoKyRuTiuSMM5ME6aJsiviJo5QPYGTTkauW9ssanE/N0+uxDRTuLMHoBdesDTAkaRzP1hQqYLiFUBBK1JufB67ZMn2bTZxPzskxBzeKuXRhyj/pdUB5uGgo+WEdHfi5vosjOMb6yrS5AW3sLWt3SXfG8oZBTocJNOjET854+t8qRj0ZuWk9uLTSYy2UM+WbnhFQkwjbkkJMyKkQuPM7pYhu9SISjzy35cG6LpchXQloTyAR+xabRSkbd7JPnrK6ElxXVyG+NY8tBkY9fOzbzlVCBan9fqvewOIvmw7Ih9ig4ZUrRJXcBPLCvCl6+CzOVKUwEZyOdK1qQmwiR3Fc1WNPXlC89Ofj4DeUI6ujA4WNycyUJFpVl5P0evozapZHkAirTV4jygFqVxsNChSrK+6UPVD/y0Hri2uTS4aoced8SkJG2NYEcFTmMwBFHUsALK2/JwXguIVh4bg0fsV5QBsLCgg/UePhhuoRa+YC39GM6MVznbCGLBVphAagdYbEEWaEpqWBzk1gE0SCXWDIRMG0DFBgQFujBB6U1TEmZErieionhMyuCiSiiY+O5fO6oIBMUaj8REHCqKZ2Ys1kg10fB2qwTtzyghwVpncAIKhUA2Qs0xoZ1+0JrGIdiN78CyDnrJmZKEmP6GClfqQYcacXdb/qkzxTpAhyGihyECnt3uWz6RoY/3rz5mB4Cvz/9cMl2G3k7/UQyiO0COofLQxLdfqGLbTvCCwqo9NCVylEh8uBa6njBN9b4vo8eHx/fr8Z3r0Ty0L4P7fvQvv9r+3aJ+OlQ+51jAe/7uzSHkZmjVgX8Pn73lkcQ3nyLNfkGJf2XNt13uT/+5P7xlwbbUFmn/qTiew94cii+EZexQQ3cNuTgJWP3fSd1ifAkW6fCUuRXK3FO6MidtaES+dV1d52IgKUX+VXf5OO5FNeJqClUlmeZpg0iEQ2yuMiGiShr7ow3Pnrro/3WaZbMtJWoK+tD/uTnx6cngk8aHBmzvz3d7bqzn40Py4b7pReZCJhZre2iHxMRIsyAhvvxlgyg7NkcZs7WsXaHgOC1LZUBMkVjlQlcw4rtV4QFcXp76hNna3BjcreFjo16RX2hcsLfb2e5l1+wbjTdI/erOzQ+oLF/J22WVbH7tXZm872h1u3STsNtoL5m9jczO8yXKGO5UI1Kx5lUk//VK1O2GoOzJpW23gn9YgTjtmmsY7h7DKsQmjzLTqYob8kUrJDdu4PEGUhb19bAWgxm1sHStg7ORrBTrP6fv/6ulXTW9zeCP5qipyICOG2VDkyrXqImxkcrScbHzA4e/nbxGuan6fEd/3yeZYvFIi1Nm1pXZms9n2HZ6KPT9DitQq0j6ZCr/bvZ+j7ahucXWJbkUmWzKJIx8CowquLkvI9JJILruw/4OD1Nj4+cTB//wnYb60ONZsfTMc4J7s7/e9f2pp0f/qCGP6h1rwX6ErJGozLxYmGcV2v2uRKDNSaknfReJ4J5hiVWKy6qS6e7jpc/t+SY9a4TMUen+BaNpJcMrc+dektLBqKH5Ig5h+FG3fa9v8e2XTJonElJTfim7C6RXlx+EImYrv8Aa1uwisMFz6G4ELmIv5FhmA7j2kpoNGWLJcv2JpmFcM2WW35ij5LhhYMatsxyx8F9fuvj4CdHdVBlterZr+s28v3WVzU2pNpLM5DXXdf9C6UysxE=","sidebar_class_name":"put api-method","info_path":"docs/1backend/1-backend","custom_edit_url":null},"sidebar":"openApiSidebar","previous":{"title":"Is Authorized","permalink":"/docs/1backend/is-authorized"},"next":{"title":"Get Public Key","permalink":"/docs/1backend/get-public-key"}}');var n=i(74848),r=i(28453),a=i(53746),o=i.n(a),c=i(56518),d=i.n(c),p=i(99972),l=i.n(p),u=i(25342),h=i.n(u),m=(i(44215),i(82223),i(24861));const b={id:"save-permissions",title:"Save Permissions",description:"Creates or updates a list of permissions.",sidebar_label:"Save Permissions",hide_title:!0,hide_table_of_contents:!0,api:"eJztV+9u2zYQf5UDv3QDFClpVmATimJJWwxe/wV1U2CIA+RMnSU2FKmSlF3PELCH2BPuSYajLNtx3AJDsW/5Ikjk3fHufnc/nlaiIC+daoKyRuTiuSMM5ME6aJsiviJo5QPYGTTkauW9ssanE/N0+uxDRTuLMHoBdesDTAkaRzP1hQqYLiFUBBK1JufB67ZMn2bTZxPzskxBzeKuXRhyj/pdUB5uGgo+WEdHfi5vosjOMb6yrS5AW3sLWt3SXfG8oZBTocJNOjET854+t8qRj0ZuWk9uLTSYy2UM+WbnhFQkwjbkkJMyKkQuPM7pYhu9SISjzy35cG6LpchXQloTyAR+xabRSkbd7JPnrK6ElxXVyG+NY8tBkY9fOzbzlVCBan9fqvewOIvmw7Ih9ig4ZUrRJXcBPLCvCl6+CzOVKUwEZyOdK1qQmwiR3Fc1WNPXlC89Ofj4DeUI6ujA4WNycyUJFpVl5P0evozapZHkAirTV4jygFqVxsNChSrK+6UPVD/y0Hri2uTS4aoced8SkJG2NYEcFTmMwBFHUsALK2/JwXguIVh4bg0fsV5QBsLCgg/UePhhuoRa+YC39GM6MVznbCGLBVphAagdYbEEWaEpqWBzk1gE0SCXWDIRMG0DFBgQFujBB6U1TEmZErieionhMyuCiSiiY+O5fO6oIBMUaj8REHCqKZ2Ys1kg10fB2qwTtzyghwVpncAIKhUA2Qs0xoZ1+0JrGIdiN78CyDnrJmZKEmP6GClfqQYcacXdb/qkzxTpAhyGihyECnt3uWz6RoY/3rz5mB4Cvz/9cMl2G3k7/UQyiO0COofLQxLdfqGLbTvCCwqo9NCVylEh8uBa6njBN9b4vo8eHx/fr8Z3r0Ty0L4P7fvQvv9r+3aJ+OlQ+51jAe/7uzSHkZmjVgX8Pn73lkcQ3nyLNfkGJf2XNt13uT/+5P7xlwbbUFmn/qTiew94cii+EZexQQ3cNuTgJWP3fSd1ifAkW6fCUuRXK3FO6MidtaES+dV1d52IgKUX+VXf5OO5FNeJqClUlmeZpg0iEQ2yuMiGiShr7ow3Pnrro/3WaZbMtJWoK+tD/uTnx6cngk8aHBmzvz3d7bqzn40Py4b7pReZCJhZre2iHxMRIsyAhvvxlgyg7NkcZs7WsXaHgOC1LZUBMkVjlQlcw4rtV4QFcXp76hNna3BjcreFjo16RX2hcsLfb2e5l1+wbjTdI/erOzQ+oLF/J22WVbH7tXZm872h1u3STsNtoL5m9jczO8yXKGO5UI1Kx5lUk//VK1O2GoOzJpW23gn9YgTjtmmsY7h7DKsQmjzLTqYob8kUrJDdu4PEGUhb19bAWgxm1sHStg7ORrBTrP6fv/6ulXTW9zeCP5qipyICOG2VDkyrXqImxkcrScbHzA4e/nbxGuan6fEd/3yeZYvFIi1Nm1pXZms9n2HZ6KPT9DitQq0j6ZCr/bvZ+j7ahucXWJbkUmWzKJIx8CowquLkvI9JJILruw/4OD1Nj4+cTB//wnYb60ONZsfTMc4J7s7/e9f2pp0f/qCGP6h1rwX6ErJGozLxYmGcV2v2uRKDNSaknfReJ4J5hiVWKy6qS6e7jpc/t+SY9a4TMUen+BaNpJcMrc+dektLBqKH5Ig5h+FG3fa9v8e2XTJonElJTfim7C6RXlx+EImYrv8Aa1uwisMFz6G4ELmIv5FhmA7j2kpoNGWLJcv2JpmFcM2WW35ij5LhhYMatsxyx8F9fuvj4CdHdVBlterZr+s28v3WVzU2pNpLM5DXXdf9C6UysxE=",sidebar_class_name:"put api-method",info_path:"docs/1backend/1-backend",custom_edit_url:null},y=void 0,f={},k=[];function g(e){const s={code:"code",p:"p",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.default,{as:"h1",className:"openapi__heading",children:"Save Permissions"}),"\n",(0,n.jsx)(o(),{method:"put",path:"/user-svc/permissions",context:"endpoint"}),"\n",(0,n.jsxs)(s.p,{children:["Creates or updates a list of permissions.\n",(0,n.jsx)("b",{children:"The permission ID must be prefixed by the callers slug."}),"\nEg. if the owner's slug is ",(0,n.jsx)(s.code,{children:"petstore-svc"})," the permission should look like ",(0,n.jsx)(s.code,{children:"petstore-svc:pet:edit"}),"."]}),"\n",(0,n.jsxs)(s.p,{children:["Requires the ",(0,n.jsx)(s.code,{children:"user-svc:permission:create"})," permission."]}),"\n",(0,n.jsx)(m.default,{id:"request",as:"h2",className:"openapi-tabs__heading",children:"Request"}),"\n",(0,n.jsx)(d(),{parameters:void 0}),"\n",(0,n.jsx)(l(),{title:"Body",body:{content:{"application/json":{schema:{properties:{permissions:{items:{properties:{createdAt:{type:"string"},description:{type:"string"},id:{description:'eg. "user.viewer"',type:"string"},name:{description:'eg. "User Viewer"',type:"string"},ownerId:{description:'Service who owns the permission\n\nUncertain if this aligns with the system\'s use of slugs.\nIssue encountered: I renamed Docker Svc to Container Svc in two steps (by mistake).\nThe name/slug had already changed to "container-svc," but data was still being saved\nin the "dockerSvcCredentials" table.\nAfter renaming the tables as well, I hit a "cannot update unowned permission" error\nbecause ownership relies on this field rather than the user slug. YMMV.',type:"string"},updatedAt:{type:"string"}},type:"object"},type:"array"}},type:"object"}}},description:"Permission Details",required:!0}}),"\n",(0,n.jsx)(h(),{id:void 0,label:void 0,responses:{200:{description:"OK",content:{"application/json":{schema:{properties:{permissions:{items:{properties:{createdAt:{type:"string"},description:{type:"string"},id:{description:'eg. "user.viewer"',type:"string"},name:{description:'eg. "User Viewer"',type:"string"},ownerId:{description:'Service who owns the permission\n\nUncertain if this aligns with the system\'s use of slugs.\nIssue encountered: I renamed Docker Svc to Container Svc in two steps (by mistake).\nThe name/slug had already changed to "container-svc," but data was still being saved\nin the "dockerSvcCredentials" table.\nAfter renaming the tables as well, I hit a "cannot update unowned permission" error\nbecause ownership relies on this field rather than the user slug. YMMV.',type:"string"},updatedAt:{type:"string"}},type:"object"},type:"array"}},type:"object"}}}},400:{description:"Bad Request: Invalid JSON or Bad Namespace",content:{"application/json":{schema:{type:"string"}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{type:"string"}}}},500:{description:"Internal Server Error",content:{"application/json":{schema:{type:"string"}}}}}})]})}function v(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(g,{...e})}):g(e)}}}]);