"use strict";(self.webpackChunksingulatron_api_docs=self.webpackChunksingulatron_api_docs||[]).push([[7938],{74198:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>m,contentTitle:()=>b,default:()=>v,frontMatter:()=>k,metadata:()=>s,toc:()=>f});const s=JSON.parse('{"id":"1backend/refresh-token","title":"Refresh Token","description":"Refreshes an existing token, including inactive ones.","source":"@site/docs/1backend/refresh-token.api.mdx","sourceDirName":"1backend","slug":"/1backend/refresh-token","permalink":"/docs/1backend/refresh-token","draft":false,"unlisted":false,"editUrl":null,"tags":[],"version":"current","frontMatter":{"id":"refresh-token","title":"Refresh Token","description":"Refreshes an existing token, including inactive ones.","sidebar_label":"Refresh Token","hide_title":true,"hide_table_of_contents":true,"api":"eJztVttuGzcQ/ZUBXxoDq5VdJw2gpzpJETgJkqB2EBRZoxmRo13GXHLLixRFEJCPyBfmS4rhrm622oc+FH3ok1bkXM7MHB5yJRQF6XUXtbNiIn6lmafQUAC0QJ91iNrWEN0t2QK0lSYpXtAWZdRzAmcplJW9bgicUb0hTEm6lsLO6oGegXUR0HhCtdxunBSAVgGCpUUBg3EfQwfQISRSOboOgMa4RQDpbNQ2kYI5eT3TEhk5uBmkQB68MxRgoWPjUgRPfyTtGXBOAcbV2paVvbT7uQKgJ/B95Tg1BMkaCgHoc2e01NEswdPc3ZKCB9ZBS7JBq0MLM+chMrglxZOysq8I2WiIGhqXjIIpQYNWGVIQqEOPkcyygLlGwBx3KGFmsAbnQZEhXihFIVxHPu9eKjERA8RrDi8K4Sl0zgYKYrISP56e8s/RaUL2gJCkpBBmyYhCcB/JRvbBjsvMacafAjuuRJANtchfnWcQUfdpcmn3l/t23gdwcdBmzonaQmwIWhcipG4U3UhhJNB25nybQZSVfd+QBcwj/SHkoQL3vKbw/es3lThiv4oh6Nq2ZGMBztdo9Zcco7LSU1/SvglFWX7/+g2NuUPungMtep7fhp5lZS+O8CQFUqBS5lVmVAGLRhva8b03r2xvzzWTymRpdIjOa4mG+UaerOQs9xkp0UKI2himzzD3zCzIddFA6H0nRrtl2B2SmgNitilEjqvbzhA3homNoPQsQ4pbKroUva6buOXkCZMyLjsSEzF1zhBasS5Ej0ldZDoN2yFyg3g3O//lrlZHl7dEOyTU9UYcEHiqpODF+2vIE4kOMMWGbGQyU2ZZ1oSNGvyRyC/zxBuCd7xzNZdlZX9zKfc7C8oSdIQUNmZdmhot4ZaWgBE+jjngKMzluN8Y3dLyYx4gK+BWuT5xgxFeXL15DW76iWTMIGCmyagARt/SpLIjqIRLuhKTHdbLZ/CAyrosoBIp+N/V04cvHz96Ou1+qsTJ4GLSgUswqd45RQpx1KM0qR6d7ty8YzcEo0NkvcxSWbAqNIBhUlmAUc7aVzjhj0rcW3a+nqycr3tor18/e/p8PdjuuLGbY+rU31CD/S6PEWDN8sbiTUpMPuwRLBNmQ4/98NtgN1sUfevvBet9j5ix4cPTs/use2eZWc7rL6T+uXaS984fr/UYkkfHFP3SRvIWDVyRn5OHX3LMfwcSL2IduIWb08NdbCk2jq+nzgUeQ4exEROxOyqDfI02MwsZOsdZieQN246Nk2gaF+Lk7Oz8/LFY37CdTF7H5RWD7/E+IfTkLxJnuCcNy46gGkwqATPHLwZSMF2yWnQoKb82+lOKsicEzLxrDxQBXrGmA1nVOW0jK57m+A2hIu61xZY7czFQInd6R33s9Eta5hbyncY4870n83CoRc0VBzQUfmaZSQajd7aUrt2L/fYSrlLXOZ+JnZvUxNhNxuOzKcpbsoodxr28Hty4lyOL+VJotfSOe60lBegMRr5huRyjJdmQr+tNvudvX8H8vDw9yBYm4/FisShrm0rn6/HgF8ZYd2Z0Xp6WTWxNVmvybXgzu+qz7cCGBdY1+VK7cTYZc590NGxy9qQvRBSC6dDDPy0flWcckcnUot3DePCYEXfqXu1OwP9v2P/WG3Y4F5E+x3FnUOcXQybZatCKD9vbJb9q99XiphCsCmyzWk0x0Dtv1mtezre5mHy4KcQcveaa+d+62BxUlpdbWuZXqKSOD9IcTerP6B2JXO/r2Ns3V9divf4TXJSgeQ==","sidebar_class_name":"post api-method","info_path":"docs/1backend/1-backend","custom_edit_url":null},"sidebar":"openApiSidebar","previous":{"title":"Get Public Key","permalink":"/docs/1backend/get-public-key"},"next":{"title":"Register","permalink":"/docs/1backend/register"}}');var i=n(74848),r=n(28453),o=n(53746),c=n.n(o),a=n(56518),d=n.n(a),l=n(99972),u=n.n(l),p=n(25342),h=n.n(p),g=(n(44215),n(82223),n(24861));const k={id:"refresh-token",title:"Refresh Token",description:"Refreshes an existing token, including inactive ones.",sidebar_label:"Refresh Token",hide_title:!0,hide_table_of_contents:!0,api:"eJztVttuGzcQ/ZUBXxoDq5VdJw2gpzpJETgJkqB2EBRZoxmRo13GXHLLixRFEJCPyBfmS4rhrm622oc+FH3ok1bkXM7MHB5yJRQF6XUXtbNiIn6lmafQUAC0QJ91iNrWEN0t2QK0lSYpXtAWZdRzAmcplJW9bgicUb0hTEm6lsLO6oGegXUR0HhCtdxunBSAVgGCpUUBg3EfQwfQISRSOboOgMa4RQDpbNQ2kYI5eT3TEhk5uBmkQB68MxRgoWPjUgRPfyTtGXBOAcbV2paVvbT7uQKgJ/B95Tg1BMkaCgHoc2e01NEswdPc3ZKCB9ZBS7JBq0MLM+chMrglxZOysq8I2WiIGhqXjIIpQYNWGVIQqEOPkcyygLlGwBx3KGFmsAbnQZEhXihFIVxHPu9eKjERA8RrDi8K4Sl0zgYKYrISP56e8s/RaUL2gJCkpBBmyYhCcB/JRvbBjsvMacafAjuuRJANtchfnWcQUfdpcmn3l/t23gdwcdBmzonaQmwIWhcipG4U3UhhJNB25nybQZSVfd+QBcwj/SHkoQL3vKbw/es3lThiv4oh6Nq2ZGMBztdo9Zcco7LSU1/SvglFWX7/+g2NuUPungMtep7fhp5lZS+O8CQFUqBS5lVmVAGLRhva8b03r2xvzzWTymRpdIjOa4mG+UaerOQs9xkp0UKI2himzzD3zCzIddFA6H0nRrtl2B2SmgNitilEjqvbzhA3homNoPQsQ4pbKroUva6buOXkCZMyLjsSEzF1zhBasS5Ej0ldZDoN2yFyg3g3O//lrlZHl7dEOyTU9UYcEHiqpODF+2vIE4kOMMWGbGQyU2ZZ1oSNGvyRyC/zxBuCd7xzNZdlZX9zKfc7C8oSdIQUNmZdmhot4ZaWgBE+jjngKMzluN8Y3dLyYx4gK+BWuT5xgxFeXL15DW76iWTMIGCmyagARt/SpLIjqIRLuhKTHdbLZ/CAyrosoBIp+N/V04cvHz96Ou1+qsTJ4GLSgUswqd45RQpx1KM0qR6d7ty8YzcEo0NkvcxSWbAqNIBhUlmAUc7aVzjhj0rcW3a+nqycr3tor18/e/p8PdjuuLGbY+rU31CD/S6PEWDN8sbiTUpMPuwRLBNmQ4/98NtgN1sUfevvBet9j5ix4cPTs/use2eZWc7rL6T+uXaS984fr/UYkkfHFP3SRvIWDVyRn5OHX3LMfwcSL2IduIWb08NdbCk2jq+nzgUeQ4exEROxOyqDfI02MwsZOsdZieQN246Nk2gaF+Lk7Oz8/LFY37CdTF7H5RWD7/E+IfTkLxJnuCcNy46gGkwqATPHLwZSMF2yWnQoKb82+lOKsicEzLxrDxQBXrGmA1nVOW0jK57m+A2hIu61xZY7czFQInd6R33s9Eta5hbyncY4870n83CoRc0VBzQUfmaZSQajd7aUrt2L/fYSrlLXOZ+JnZvUxNhNxuOzKcpbsoodxr28Hty4lyOL+VJotfSOe60lBegMRr5huRyjJdmQr+tNvudvX8H8vDw9yBYm4/FisShrm0rn6/HgF8ZYd2Z0Xp6WTWxNVmvybXgzu+qz7cCGBdY1+VK7cTYZc590NGxy9qQvRBSC6dDDPy0flWcckcnUot3DePCYEXfqXu1OwP9v2P/WG3Y4F5E+x3FnUOcXQybZatCKD9vbJb9q99XiphCsCmyzWk0x0Dtv1mtezre5mHy4KcQcveaa+d+62BxUlpdbWuZXqKSOD9IcTerP6B2JXO/r2Ns3V9divf4TXJSgeQ==",sidebar_class_name:"post api-method",info_path:"docs/1backend/1-backend",custom_edit_url:null},b=void 0,m={},f=[];function y(e){const t={p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.default,{as:"h1",className:"openapi__heading",children:"Refresh Token"}),"\n",(0,i.jsx)(c(),{method:"post",path:"/user-svc/refresh-token",context:"endpoint"}),"\n",(0,i.jsx)(t.p,{children:"Refreshes an existing token, including inactive ones.\nThe old token becomes inactive (if not already inactive), and a new, active token is issued.\nThis allows continued verification of user roles without requiring a new login.\nInactive tokens are refreshable unless explicitly revoked (no mechanism for this yet).\nLeaked tokens should be handled separately, via a revocation flag or deletion."}),"\n",(0,i.jsx)(d(),{parameters:void 0}),"\n",(0,i.jsx)(u(),{title:"Body",body:void 0}),"\n",(0,i.jsx)(h(),{id:void 0,label:void 0,responses:{200:{description:"Refresh Token successful",content:{"application/json":{schema:{properties:{token:{properties:{active:{description:"Active tokens contain the most up-to-date information.\nWhen a user's role changes\u2014due to role assignment, organization\ncreation/assignment, etc.\u2014all existing tokens are marked inactive.\nActive tokens are reused during login, while inactive tokens\nare retained for historical reference.\n\nInactive tokens can still be refreshed to create a new active token.\nA separate mechanism for leaked tokens must be implemented (a different flag or outright deletion).",type:"boolean"},createdAt:{type:"string"},deletedAt:{type:"string"},id:{type:"string"},token:{description:'Token is a signed JWT used to authenticate the user without querying the User Svc.\nYou can verify it using the public key at `/user-svc/public-key`.\n\nThe token is just a JSON object with fields like:\n- "oui": the user ID (e.g., "usr_dC4K75Cbp6")\n- "olu": the user slug (e.g., "test-user-slug-0")\n- "oro": a list of roles, such as:\n  - "user-svc:user"\n  - "user-svc:org:{org_dC4K7NNDCG}:user"',type:"string"},updatedAt:{type:"string"},userId:{type:"string"}},required:["createdAt","id","token","updatedAt","userId"],type:"object"}},required:["token"],type:"object"}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{properties:{error:{type:"string"}},type:"object"}}}},500:{description:"Internal Server Error",content:{"application/json":{schema:{properties:{error:{type:"string"}},type:"object"}}}}}})]})}function v(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(y,{...e})}):y(e)}}}]);