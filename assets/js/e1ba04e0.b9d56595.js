"use strict";(self.webpackChunksingulatron_api_docs=self.webpackChunksingulatron_api_docs||[]).push([[6685],{64323:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>b,contentTitle:()=>h,default:()=>f,frontMatter:()=>y,metadata:()=>s,toc:()=>v});const s=JSON.parse('{"id":"1backend/login","title":"Login","description":"Authenticates a user and returns a token.","source":"@site/docs/1backend/login.api.mdx","sourceDirName":"1backend","slug":"/1backend/login","permalink":"/docs/1backend/login","draft":false,"unlisted":false,"editUrl":null,"tags":[],"version":"current","frontMatter":{"id":"login","title":"Login","description":"Authenticates a user and returns a token.","sidebar_label":"Login","hide_title":true,"hide_table_of_contents":true,"api":"eJy9V9tuE0kQ/ZVSvyxI43FCYJHmaUNAKBABwkFolYmWck95pnFP99AXG69liY/gC/mSVfX4SryI5WHzklF1XU7dy0tRkZdOdUFZIwpxHkNDJiiJgTwgRE8O0FTgKERnmBTslEwuMmE7cshyl5UohLa1MiITjj5F8uGJrRaiWAppTSAT+BO7TrNiZc3wo2dzS+FlQy3yV+dYX1DkN2Iok1hYdCQK4YNTpharTFQ0U5KOPnXo/dy66uij17E+8rDKNhQ7/kgyiNUqGdkPyxU7B29719ZOKkeVKIKLtGKC76zxPfgHJyf875gKH6Uk7ydRi+xXY5MScJeMMqgZ3TV8nuh92jykwCoDoSForQ8Qu0GwgwoDgTIT69oEIi/N+4bMugJ+8+CsJpANmpr8ty9fq8gaeyp6r2rTkgkZWFejUX8nHaWRjnqX9lkoyPzbl6+oNdBn5YMy9QYcOoIW3ZQqUKb3Jy/NoQPM4yh6qqCKnEFIlZfBvFGatnJr9tL0/OwzVTCxDhrlg3VKogZHE3JkJFspzeWhKEg04IPSGsasYuLIN1Sx28kvAgRDc9gXYrTgqUPH7y1xwJRvk11NOE3iSXkbfWC9qu00cWCognsIlZokSAEmGmuwDmwMTtVNgIo0cTDvc++tK3ZsrSY0XN09pur833pG049eNx11WDrXDUH/luolQQflOeNWKjYHcxWavDTXjfKgDEjbjpVJSU9PcIU+vN3E7jykoI4JUv6CLU1FgVyrDIGaHBrpQ68M82ZpBmkKHqKHzkVDEM1aCcdzLyY7t9TxOaAPIR13m5kgqHbf8zn6XR1snfYbZ+DnfDkKddvT3yHZRhy4gaiCF++vt/Zwb1gne2lac9htDPApkluk5moI3vHLaCbz0vxpY8rCjJyaLEAFiH7D1sWxVhKmtAAM8GHICgd+Jof9w2BKiw+pV673vfvItYzwYvT6FfQztM/9RJGuPGg1paI0AyiFjaoUxQ7r5VO4R3mdZ1CK6N1f1cXDl48fXYy730txfy2i44EIT/GdUCAfBj1KHevByU7MWRZD0MoHsJM0qnzGA7gB9EVpAAbJau9hwR+luEO2ri6W1tU9tFevnl48X615j+UxdtUPupDlLo8V5Wp/pdzs9fK2N1M1b+pk385W6+3dPXZks60y8fDYero0M9SqSkn89dVEzln3kzt2lYlHx5EEcgY1jMjNyMGzpPP/gcRErD3nYNMxHNeWQmP5yOlsWv8dhkYUYtcem+PHJ8gsvxTRaeYZaitRN9aH4vT07OyxWN0yn4xOhcWIQfc4nxA6cnx/HRkDi46gXLOUAiZWazunCsYLngwdSkoDsu9IlH0lwcTZ9qD7oT9CyFSdVSbwJFKsvyGsiGNssKX1FWjdeo3vyhw79ZIWKXQc9be7S+/ZZ+Q9dnC5bSK9Wy87yu5O29H682x/fJuJ/e4WpBYVR9WjJv8Hj62oMThrcmnbPfxvLmEUu8661B8pEU0IXTEcno5RTslULDAUdw6988sBb68ZQauks5xPJclDpzHwccQh00qS8cnZjb3nb65gdpafHFjzxXA4n8/z2sTcunq4lvNDrDs9OMtP8ia0Ok1/cq1/PRn11nZg/Rzrmlyu7DCxDDkXKnCgxemT3hGRCS65Hv5J/ih/kA5h60OLZg/j1bpED/zdu8//0+m/LohAn8Ow06jSBZI8X66b42Y7QjliyfZtJrgN+G25HKOnd06vVkxOq0oUN7eZmKFTOGYPb25X2aYyuZ+mtBCFuOjxDrgl2HXUsS/N7ybCKttInEtJXfgh736Lv3k9uhaZGK9/v7S2YhmHcz77cS4KkX76sHTq20RbCo2mjlgzb6+T//4BCZWp4w==","sidebar_class_name":"post api-method","info_path":"docs/1backend/1-backend","custom_edit_url":null},"sidebar":"openApiSidebar","previous":{"title":"Save Enrolls","permalink":"/docs/1backend/save-enrolls"},"next":{"title":"Save an Organization","permalink":"/docs/1backend/save-organization"}}');var i=n(74848),o=n(28453),a=n(53746),r=n.n(a),c=n(56518),d=n.n(c),l=n(99972),p=n.n(l),u=n(25342),g=n.n(u),k=(n(44215),n(82223),n(24861));const y={id:"login",title:"Login",description:"Authenticates a user and returns a token.",sidebar_label:"Login",hide_title:!0,hide_table_of_contents:!0,api:"eJy9V9tuE0kQ/ZVSvyxI43FCYJHmaUNAKBABwkFolYmWck95pnFP99AXG69liY/gC/mSVfX4SryI5WHzklF1XU7dy0tRkZdOdUFZIwpxHkNDJiiJgTwgRE8O0FTgKERnmBTslEwuMmE7cshyl5UohLa1MiITjj5F8uGJrRaiWAppTSAT+BO7TrNiZc3wo2dzS+FlQy3yV+dYX1DkN2Iok1hYdCQK4YNTpharTFQ0U5KOPnXo/dy66uij17E+8rDKNhQ7/kgyiNUqGdkPyxU7B29719ZOKkeVKIKLtGKC76zxPfgHJyf875gKH6Uk7ydRi+xXY5MScJeMMqgZ3TV8nuh92jykwCoDoSForQ8Qu0GwgwoDgTIT69oEIi/N+4bMugJ+8+CsJpANmpr8ty9fq8gaeyp6r2rTkgkZWFejUX8nHaWRjnqX9lkoyPzbl6+oNdBn5YMy9QYcOoIW3ZQqUKb3Jy/NoQPM4yh6qqCKnEFIlZfBvFGatnJr9tL0/OwzVTCxDhrlg3VKogZHE3JkJFspzeWhKEg04IPSGsasYuLIN1Sx28kvAgRDc9gXYrTgqUPH7y1xwJRvk11NOE3iSXkbfWC9qu00cWCognsIlZokSAEmGmuwDmwMTtVNgIo0cTDvc++tK3ZsrSY0XN09pur833pG049eNx11WDrXDUH/luolQQflOeNWKjYHcxWavDTXjfKgDEjbjpVJSU9PcIU+vN3E7jykoI4JUv6CLU1FgVyrDIGaHBrpQ68M82ZpBmkKHqKHzkVDEM1aCcdzLyY7t9TxOaAPIR13m5kgqHbf8zn6XR1snfYbZ+DnfDkKddvT3yHZRhy4gaiCF++vt/Zwb1gne2lac9htDPApkluk5moI3vHLaCbz0vxpY8rCjJyaLEAFiH7D1sWxVhKmtAAM8GHICgd+Jof9w2BKiw+pV673vfvItYzwYvT6FfQztM/9RJGuPGg1paI0AyiFjaoUxQ7r5VO4R3mdZ1CK6N1f1cXDl48fXYy730txfy2i44EIT/GdUCAfBj1KHevByU7MWRZD0MoHsJM0qnzGA7gB9EVpAAbJau9hwR+luEO2ri6W1tU9tFevnl48X615j+UxdtUPupDlLo8V5Wp/pdzs9fK2N1M1b+pk385W6+3dPXZks60y8fDYero0M9SqSkn89dVEzln3kzt2lYlHx5EEcgY1jMjNyMGzpPP/gcRErD3nYNMxHNeWQmP5yOlsWv8dhkYUYtcem+PHJ8gsvxTRaeYZaitRN9aH4vT07OyxWN0yn4xOhcWIQfc4nxA6cnx/HRkDi46gXLOUAiZWazunCsYLngwdSkoDsu9IlH0lwcTZ9qD7oT9CyFSdVSbwJFKsvyGsiGNssKX1FWjdeo3vyhw79ZIWKXQc9be7S+/ZZ+Q9dnC5bSK9Wy87yu5O29H682x/fJuJ/e4WpBYVR9WjJv8Hj62oMThrcmnbPfxvLmEUu8661B8pEU0IXTEcno5RTslULDAUdw6988sBb68ZQauks5xPJclDpzHwccQh00qS8cnZjb3nb65gdpafHFjzxXA4n8/z2sTcunq4lvNDrDs9OMtP8ia0Ok1/cq1/PRn11nZg/Rzrmlyu7DCxDDkXKnCgxemT3hGRCS65Hv5J/ih/kA5h60OLZg/j1bpED/zdu8//0+m/LohAn8Ow06jSBZI8X66b42Y7QjliyfZtJrgN+G25HKOnd06vVkxOq0oUN7eZmKFTOGYPb25X2aYyuZ+mtBCFuOjxDrgl2HXUsS/N7ybCKttInEtJXfgh736Lv3k9uhaZGK9/v7S2YhmHcz77cS4KkX76sHTq20RbCo2mjlgzb6+T//4BCZWp4w==",sidebar_class_name:"post api-method",info_path:"docs/1backend/1-backend",custom_edit_url:null},h=void 0,b={},v=[];function m(e){const t={p:"p",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.default,{as:"h1",className:"openapi__heading",children:"Login"}),"\n",(0,i.jsx)(r(),{method:"post",path:"/user-svc/login",context:"endpoint"}),"\n",(0,i.jsx)(t.p,{children:"Authenticates a user and returns a token."}),"\n",(0,i.jsx)(k.default,{id:"request",as:"h2",className:"openapi-tabs__heading",children:"Request"}),"\n",(0,i.jsx)(d(),{parameters:void 0}),"\n",(0,i.jsx)(p(),{title:"Body",body:{content:{"application/json":{schema:{properties:{contact:{type:"string"},device:{type:"string"},password:{type:"string"},slug:{type:"string"}},type:"object"}}},description:"Login Request",required:!0}}),"\n",(0,i.jsx)(g(),{id:void 0,label:void 0,responses:{200:{description:"Login successful",content:{"application/json":{schema:{properties:{token:{properties:{active:{description:"Active tokens contain the most up-to-date information.\nWhen a user's role changes\u2014due to role assignment, organization\ncreation/assignment, etc.\u2014all existing tokens are marked inactive.\nActive tokens are reused during login, while inactive tokens\nare retained for historical reference.\n\nInactive tokens can still be refreshed to create a new active token.\nA separate mechanism for leaked tokens must be implemented (a different flag or outright deletion).",type:"boolean"},createdAt:{type:"string"},deletedAt:{type:"string"},device:{description:"The device the token is associated with.\nThis in combination with LastRefreshedAt can be used to\ndetermine if the token is still in use, and lets us prune unused tokens.",type:"string"},id:{type:"string"},lastRefreshedAt:{description:"The last time the token was refreshed.\nThis is used to determine if the token is still in use.",type:"string"},token:{description:'Token is a signed JWT used to authenticate the user without querying the User Svc.\nYou can verify it using the public key at `/user-svc/public-key`.\n\nThe token is just a JSON object with fields like:\n- "oui": the user ID (e.g., "usr_dC4K75Cbp6")\n- "olu": the user slug (e.g., "test-user-slug-0")\n- "oro": a list of roles, such as:\n  - "user-svc:user"\n  - "user-svc:org:{org_dC4K7NNDCG}:user"',type:"string"},updatedAt:{type:"string"},userId:{type:"string"}},required:["createdAt","device","id","token","updatedAt","userId"],type:"object"}},type:"object"}}}},400:{description:"Invalid JSON",content:{"application/json":{schema:{properties:{error:{type:"string"}},type:"object"}}}},500:{description:"Internal Server Error",content:{"application/json":{schema:{properties:{error:{type:"string"}},type:"object"}}}}}})]})}function f(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(m,{...e})}):m(e)}}}]);