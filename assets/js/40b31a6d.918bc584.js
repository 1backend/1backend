"use strict";(self.webpackChunksingulatron_api_docs=self.webpackChunksingulatron_api_docs||[]).push([[586],{80694:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>v,contentTitle:()=>g,default:()=>V,frontMatter:()=>b,metadata:()=>n,toc:()=>y});const n=JSON.parse('{"id":"1backend/save-permissions","title":"Save Permissions","description":"Creates or updates a list of permissions.","source":"@site/docs/1backend/save-permissions.api.mdx","sourceDirName":"1backend","slug":"/1backend/save-permissions","permalink":"/docs/1backend/save-permissions","draft":false,"unlisted":false,"editUrl":null,"tags":[],"version":"current","frontMatter":{"id":"save-permissions","title":"Save Permissions","description":"Creates or updates a list of permissions.","sidebar_label":"Save Permissions","hide_title":true,"hide_table_of_contents":true,"api":"eJztV21v2zYQ/isHfukGKFLSrMAmFMWSthi8vgV1U2CIA+QsnSU2FKnyKLueYWA/Yr9wv2Q4ym9x3AJDsW/5YsjkvT93D8mFKokLr9ugnVW5eu4JAzE4D11bxk8EozmAm0BLvtHM2llOR/bp+NmHmnYWYfACmo4DjAlaTxP9hUoYzyHUBAUaQ56BTVelT7Pxs5F9WaWgJ3HXzSz5R/0uaIablgIH5+mIp8VNFNlxw7XrTAnGuVsw+pbuiucthZxKHW7SkR3Z9/S50544GrnpmPxKaG0uL2LKNzseUpUo15JHKcqgVLlinNLFNnuVKE+fO+Jw7sq5yheqcDaQDfKJbWt0EXWzTyxVXSguampQvlovloMmjv92bOYLpQM1fF+qj7A8i+bDvCWJKHhtK7VM7gJ4YF+XsnwXZqpSGCmpRjrVNCM/Uiq5r2qxoa8pXzJ5+PgN5Qjq4IDzIfmpLghmtRPkeQ9fQe3SFuQDatt3iGZAoyvLMNOhjvI850DNI4aOSXpTWke6csDcEZAtXGcDeSpzGIAnyaSEF664JQ/DaQHBwXNnxcVqQVsIMwccqGX4YTyHRnPAW/oxHVnpc7GQxQatsQQ0nrCcQ1GjragUc6PYBNGgtFgyUjDuApQYEGbIwEEbA2PStgLpp3JkxWdNMFJlDGw4LZ57KskGjYZHCgKODaUjezYJ5PssRFt04hYDMszImAQGUOsAKFGgtS6sxhc6KziUu/VVQN47P7JjKjCWT5DiWrfgyWiZftsXfaLJlOAx1OQh1NiHK23TDzL88ebNx/QQ+L33wy273Mi78ScqgtouoPc4PySx3G90tR1HeEEBtVlPpfZUqjz4jpaywK2z3M/R4+Pj+9347pVKHsb3YXwfxvd/Hd9lon46NH7nWML7/izNYWCnaHQJvw/fvZUriGy+xYa4xYL+y5juh9y7P7nv/tJiF2rn9Z9Ufq+DJ4fyG0gbWzQgY0MeXgp23+dpmSimovM6zFV+tVDnhJ78WRdqlV9dL68TFbBilV/1Qz6cFuo6UQ2F2sldpu2CSlSLIq6y9Y0oa+9cbzhGy9F+541IZsYVaGrHIX/y8+PTEyWe1oEMJd6e7nbD2a/Gh3kr89KLjBRMnDFu1l8TESLMgFbm8ZYsYNGzOUy8a2LvrhOC167SFsiWrdM2SA9rsV8TliTl7alPna3AjcXdNjq2+hX1jSoFf7+9y738gk1r6B65X92h8TUa+2fSZlmXu/9WwWz+b6h1u7QzcBuor4X97cSt75dYxHahBrWJd1JD/CtrW3UGg3c2LVyzk/rFAIZd2zovcPcY1iG0eZadjLG4JVuKQnbvDFJn0Fk90YJKLwcT52HuOg9nA9jpVv7nr78bXXjH/ZHAR2NkKiOC406bILzKBRoSgIwuyHIs7TrE3y5ew/Q0Pb4TIOdZNpvN0sp2qfNVttLjDKvWHJ2mx2kdGhNZh3zD7yarA2mbH8+wqsin2mVRJBPkdRBY1cl5n5NKlDR4n/FxepoeH/kiffyL2G0dhwbtTqRDnBLcfQDsndubeX54Qq2fUKthC/QlZK1BbePJIjgvVvRzpdbWhJF2ynudKCEakVgspKkuvVkuZflzR15o7zpRU/RajtHIesl69mVUb2kuQPSQHAnpCNxoun749+h2maw1zoqC2vBN2V0mvbj8oBI1Xj0BG1eKiseZXERxpnIV35FhfT2Mawtl0FYdViLbmxQawhVdbglKIkrWH5LUesvOdwLcJ7g+D/mVrA6qLBY9/S2XG/l+66saG1btpQXI6+Vy+S9j/LNs","sidebar_class_name":"put api-method","info_path":"docs/1backend/1-backend","custom_edit_url":null},"sidebar":"openApiSidebar","previous":{"title":"Is Authorized","permalink":"/docs/1backend/is-authorized"},"next":{"title":"Get Public Key","permalink":"/docs/1backend/get-public-key"}}');var i=t(74848),r=t(28453),a=t(53746),o=t.n(a),p=t(56518),c=t.n(p),d=t(99972),l=t.n(d),u=t(25342),h=t.n(u),m=(t(44215),t(82223),t(24861));const b={id:"save-permissions",title:"Save Permissions",description:"Creates or updates a list of permissions.",sidebar_label:"Save Permissions",hide_title:!0,hide_table_of_contents:!0,api:"eJztV21v2zYQ/isHfukGKFLSrMAmFMWSthi8vgV1U2CIA+QsnSU2FKnyKLueYWA/Yr9wv2Q4ym9x3AJDsW/5YsjkvT93D8mFKokLr9ugnVW5eu4JAzE4D11bxk8EozmAm0BLvtHM2llOR/bp+NmHmnYWYfACmo4DjAlaTxP9hUoYzyHUBAUaQ56BTVelT7Pxs5F9WaWgJ3HXzSz5R/0uaIablgIH5+mIp8VNFNlxw7XrTAnGuVsw+pbuiucthZxKHW7SkR3Z9/S50544GrnpmPxKaG0uL2LKNzseUpUo15JHKcqgVLlinNLFNnuVKE+fO+Jw7sq5yheqcDaQDfKJbWt0EXWzTyxVXSguampQvlovloMmjv92bOYLpQM1fF+qj7A8i+bDvCWJKHhtK7VM7gJ4YF+XsnwXZqpSGCmpRjrVNCM/Uiq5r2qxoa8pXzJ5+PgN5Qjq4IDzIfmpLghmtRPkeQ9fQe3SFuQDatt3iGZAoyvLMNOhjvI850DNI4aOSXpTWke6csDcEZAtXGcDeSpzGIAnyaSEF664JQ/DaQHBwXNnxcVqQVsIMwccqGX4YTyHRnPAW/oxHVnpc7GQxQatsQQ0nrCcQ1GjragUc6PYBNGgtFgyUjDuApQYEGbIwEEbA2PStgLpp3JkxWdNMFJlDGw4LZ57KskGjYZHCgKODaUjezYJ5PssRFt04hYDMszImAQGUOsAKFGgtS6sxhc6KziUu/VVQN47P7JjKjCWT5DiWrfgyWiZftsXfaLJlOAx1OQh1NiHK23TDzL88ebNx/QQ+L33wy273Mi78ScqgtouoPc4PySx3G90tR1HeEEBtVlPpfZUqjz4jpaywK2z3M/R4+Pj+9347pVKHsb3YXwfxvd/Hd9lon46NH7nWML7/izNYWCnaHQJvw/fvZUriGy+xYa4xYL+y5juh9y7P7nv/tJiF2rn9Z9Ufq+DJ4fyG0gbWzQgY0MeXgp23+dpmSimovM6zFV+tVDnhJ78WRdqlV9dL68TFbBilV/1Qz6cFuo6UQ2F2sldpu2CSlSLIq6y9Y0oa+9cbzhGy9F+541IZsYVaGrHIX/y8+PTEyWe1oEMJd6e7nbD2a/Gh3kr89KLjBRMnDFu1l8TESLMgFbm8ZYsYNGzOUy8a2LvrhOC167SFsiWrdM2SA9rsV8TliTl7alPna3AjcXdNjq2+hX1jSoFf7+9y738gk1r6B65X92h8TUa+2fSZlmXu/9WwWz+b6h1u7QzcBuor4X97cSt75dYxHahBrWJd1JD/CtrW3UGg3c2LVyzk/rFAIZd2zovcPcY1iG0eZadjLG4JVuKQnbvDFJn0Fk90YJKLwcT52HuOg9nA9jpVv7nr78bXXjH/ZHAR2NkKiOC406bILzKBRoSgIwuyHIs7TrE3y5ew/Q0Pb4TIOdZNpvN0sp2qfNVttLjDKvWHJ2mx2kdGhNZh3zD7yarA2mbH8+wqsin2mVRJBPkdRBY1cl5n5NKlDR4n/FxepoeH/kiffyL2G0dhwbtTqRDnBLcfQDsndubeX54Qq2fUKthC/QlZK1BbePJIjgvVvRzpdbWhJF2ynudKCEakVgspKkuvVkuZflzR15o7zpRU/RajtHIesl69mVUb2kuQPSQHAnpCNxoun749+h2maw1zoqC2vBN2V0mvbj8oBI1Xj0BG1eKiseZXERxpnIV35FhfT2Mawtl0FYdViLbmxQawhVdbglKIkrWH5LUesvOdwLcJ7g+D/mVrA6qLBY9/S2XG/l+66saG1btpQXI6+Vy+S9j/LNs",sidebar_class_name:"put api-method",info_path:"docs/1backend/1-backend",custom_edit_url:null},g=void 0,v={},y=[];function j(e){const s={code:"code",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.default,{as:"h1",className:"openapi__heading",children:"Save Permissions"}),"\n",(0,i.jsx)(o(),{method:"put",path:"/user-svc/permissions",context:"endpoint"}),"\n",(0,i.jsxs)(s.p,{children:["Creates or updates a list of permissions.\n",(0,i.jsx)("b",{children:"The permission ID must be prefixed by the callers slug."}),"\nEg. if the owner's slug is ",(0,i.jsx)(s.code,{children:"petstore-svc"})," the permission should look like ",(0,i.jsx)(s.code,{children:"petstore-svc:pet:edit"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["Requires the ",(0,i.jsx)(s.code,{children:"user-svc:permission:create"})," permission."]}),"\n",(0,i.jsx)(m.default,{id:"request",as:"h2",className:"openapi-tabs__heading",children:"Request"}),"\n",(0,i.jsx)(c(),{parameters:void 0}),"\n",(0,i.jsx)(l(),{title:"Body",body:{content:{"application/json":{schema:{properties:{permissions:{items:{properties:{createdAt:{type:"string"},description:{type:"string"},id:{description:'eg. "user.viewer"',type:"string"},name:{description:'eg. "User Viewer"',type:"string"},ownerId:{description:'Service who owns the permission\n\nUncertain if this aligns with the system\'s use of slugs.\nIssue encountered: I renamed Docker Svc to Container Svc in two steps (by mistake).\nThe name/slug had already changed to "container-svc," but data was still being saved\nin the "dockerSvcCredentials" table.\nAfter renaming the tables as well, I hit a "cannot update unowned permission" error\nbecause ownership relies on this field rather than the user slug. YMMV.',type:"string"},updatedAt:{type:"string"}},type:"object"},type:"array"}},type:"object"}}},description:"Permission Details",required:!0}}),"\n",(0,i.jsx)(h(),{id:void 0,label:void 0,responses:{200:{description:"OK",content:{"application/json":{schema:{properties:{permissions:{items:{properties:{createdAt:{type:"string"},description:{type:"string"},id:{description:'eg. "user.viewer"',type:"string"},name:{description:'eg. "User Viewer"',type:"string"},ownerId:{description:'Service who owns the permission\n\nUncertain if this aligns with the system\'s use of slugs.\nIssue encountered: I renamed Docker Svc to Container Svc in two steps (by mistake).\nThe name/slug had already changed to "container-svc," but data was still being saved\nin the "dockerSvcCredentials" table.\nAfter renaming the tables as well, I hit a "cannot update unowned permission" error\nbecause ownership relies on this field rather than the user slug. YMMV.',type:"string"},updatedAt:{type:"string"}},type:"object"},type:"array"}},type:"object"}}}},400:{description:"Bad Request: Invalid JSON or Bad Namespace",content:{"application/json":{schema:{type:"string"}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{type:"string"}}}},500:{description:"Internal Server Error",content:{"application/json":{schema:{type:"string"}}}}}})]})}function V(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(j,{...e})}):j(e)}}}]);