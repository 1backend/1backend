"use strict";(self.webpackChunksingulatron_api_docs=self.webpackChunksingulatron_api_docs||[]).push([[586],{80694:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>y,contentTitle:()=>k,default:()=>v,frontMatter:()=>g,metadata:()=>t,toc:()=>b});const t=JSON.parse('{"id":"1backend/save-permissions","title":"Save Permissions","description":"Creates or updates a list of permissions.","source":"@site/docs/1backend/save-permissions.api.mdx","sourceDirName":"1backend","slug":"/1backend/save-permissions","permalink":"/docs/1backend/save-permissions","draft":false,"unlisted":false,"editUrl":null,"tags":[],"version":"current","frontMatter":{"id":"save-permissions","title":"Save Permissions","description":"Creates or updates a list of permissions.","sidebar_label":"Save Permissions","hide_title":true,"hide_table_of_contents":true,"api":"eJztV21v2zYQ/isHfukGKFLSrMAgFMWSthi8vgV1U2CIDOQsnSU2FMmSlF3P0H8fjvJbHLfAUOxbvggSeW+85+7haSUq8qWTNkijRS5eOsJAHoyDzlbxFUFJH8DMwJJrpffSaJ8W+vn0xaeG9hZh9ArazgeYElhHM/mNKpguITQEJSpFzoNXXZ0+z6YvCv26TkHO4q5ZaHJPhl2QHm4tBR+MoxM/L2+jyJ4b35hOVaCMuQMl7+i+eG4p5FTJcJsWutAf6WsnHflo5Lbz5NZCG3N5GY98u+chFYkwlhxyUkaVyIXHOV3tTi8S4ehrRz5cmmop8pUojQ6kA7+itUqWUTf74jmrK+HLhlrkN+vYcpDk49eezXwlZKDWP5QaIqwuovmwtMQRBSd1LfrkPoBH9mXFy/dhpjqFQnA20rmkBblCiOShqsaWvqd87cnB5x8oR1BHR5yPyc1lSbBoDCPvD/Bl1K51SS6g1EOFSA+oZK09LGRoorxf+kDtEw+dJ65NLh2uypH3HQHp0nQ6kKMqhxE44pNU8MqUd+RgPC8hGHhpNLtYL0gNYWHAB7IefpkuoZU+4B39mhaa65wtZLFAG6wAlSOsllA2qGuq2FwRiyAa5BJLCgHTLkCFAWGBHnyQSsGUpK6B66kqNPtsCApRxcDG8/Klo4p0kKh8ISDgVFFa6ItZIDecgrVZJ255QA8LUiqBETQyAHIUqLUJ6/aFTjMO1X5+BZBzxhV6SiXG9DFSvpEWHCnJ3a+HpM8kqQochoYchAaHcLlshkaGv9+9+5weA3/wfrxk+628mX6hMojdAjqHy2MS/WGhi107wisKKNWmK6WjSuTBddTzgrdG+6GPnp6ePqzGD29E8ti+j+372L7/a/v2ifjtWPtdYgUfh7s0h5Geo5IV/DX+8J5HEN58jy15iyX9lzY9DHlwf/bQ/bXGLjTGyX+o+lkHz46db8RlrFEBtw05eM3Y/ZynPhGeys7JsBT5zUpcEjpyF11oRH4z6SeJCFh7kd8MTT6el2KSiJZCY3iWsV0QibDI4iLbTESZvTfe+Bitj/Y7p1gyU6ZE1Rgf8me/Pz0/E+xpE8iY4x3obj+cw2x8Wlrul0GkEDAzSpnFMCYiRJgBNffjHWnAcmBzmDnTxtrdHAjemlpqIF1ZI3XgGpZsvyGsiNM7UJ+4WIMbk7srdLTyDQ2Fygn/uJvlXn/D1ip6QO4392h8g8bhnbRdltX+1zqY7feWWndLew23hXrC7K9nZjNfYhnLhVqUKs6kivwfXuq6Uxic0Wlp2r2jX41g3FlrHMM9YNiEYPMsO5tieUe6YoXswR0kLkYnGoOcE7SydMYPfO/BKgwz41rOtpIlaR/ztPH359VbmJ+np/e8+TzLFotFWusuNa7O1no+w9qqk/P0NG1CqyKFkGv9h9n6dtkF6xdY1+RSabIokjGMMjBG4uxyOIhIBFfrEP5pep6enrgyPT9lu9b40KLei3SMc4L70/zBJbxtzsf/oc3/0LpzAn0LmVUodbwmGOfVmktuxMYa08teeieJYNZgidVqip6unep7Xv7akWMOmyRijk7ynRgpLNk0MvfdHS0ZiAGSE2YQhhtVN3TyAXf2yUbjoizJhh/K7tPi1fUnkYjp+n+uNRWrOFzwVIkLkYv4Uxg2s15cWwmFuu6wZtnBJHMKrrlvxzYcUbJ54UNttvRyL8BDthrOwU8+1VGV1Wrgsr7fyg9b39XYUuQgzUBO+r7/F0mjoBM=","sidebar_class_name":"put api-method","info_path":"docs/1backend/1-backend","custom_edit_url":null},"sidebar":"openApiSidebar","previous":{"title":"Is Authorized","permalink":"/docs/1backend/is-authorized"},"next":{"title":"Get Public Key","permalink":"/docs/1backend/get-public-key"}}');var n=i(74848),r=i(28453),o=i(53746),a=i.n(o),p=i(56518),d=i.n(p),c=i(99972),l=i.n(c),h=i(25342),u=i.n(h),m=(i(44215),i(82223),i(24861));const g={id:"save-permissions",title:"Save Permissions",description:"Creates or updates a list of permissions.",sidebar_label:"Save Permissions",hide_title:!0,hide_table_of_contents:!0,api:"eJztV21v2zYQ/isHfukGKFLSrMAgFMWSthi8vgV1U2CIDOQsnSU2FMmSlF3P0H8fjvJbHLfAUOxbvggSeW+85+7haSUq8qWTNkijRS5eOsJAHoyDzlbxFUFJH8DMwJJrpffSaJ8W+vn0xaeG9hZh9ArazgeYElhHM/mNKpguITQEJSpFzoNXXZ0+z6YvCv26TkHO4q5ZaHJPhl2QHm4tBR+MoxM/L2+jyJ4b35hOVaCMuQMl7+i+eG4p5FTJcJsWutAf6WsnHflo5Lbz5NZCG3N5GY98u+chFYkwlhxyUkaVyIXHOV3tTi8S4ehrRz5cmmop8pUojQ6kA7+itUqWUTf74jmrK+HLhlrkN+vYcpDk49eezXwlZKDWP5QaIqwuovmwtMQRBSd1LfrkPoBH9mXFy/dhpjqFQnA20rmkBblCiOShqsaWvqd87cnB5x8oR1BHR5yPyc1lSbBoDCPvD/Bl1K51SS6g1EOFSA+oZK09LGRoorxf+kDtEw+dJ65NLh2uypH3HQHp0nQ6kKMqhxE44pNU8MqUd+RgPC8hGHhpNLtYL0gNYWHAB7IefpkuoZU+4B39mhaa65wtZLFAG6wAlSOsllA2qGuq2FwRiyAa5BJLCgHTLkCFAWGBHnyQSsGUpK6B66kqNPtsCApRxcDG8/Klo4p0kKh8ISDgVFFa6ItZIDecgrVZJ255QA8LUiqBETQyAHIUqLUJ6/aFTjMO1X5+BZBzxhV6SiXG9DFSvpEWHCnJ3a+HpM8kqQochoYchAaHcLlshkaGv9+9+5weA3/wfrxk+628mX6hMojdAjqHy2MS/WGhi107wisKKNWmK6WjSuTBddTzgrdG+6GPnp6ePqzGD29E8ti+j+372L7/a/v2ifjtWPtdYgUfh7s0h5Geo5IV/DX+8J5HEN58jy15iyX9lzY9DHlwf/bQ/bXGLjTGyX+o+lkHz46db8RlrFEBtw05eM3Y/ZynPhGeys7JsBT5zUpcEjpyF11oRH4z6SeJCFh7kd8MTT6el2KSiJZCY3iWsV0QibDI4iLbTESZvTfe+Bitj/Y7p1gyU6ZE1Rgf8me/Pz0/E+xpE8iY4x3obj+cw2x8Wlrul0GkEDAzSpnFMCYiRJgBNffjHWnAcmBzmDnTxtrdHAjemlpqIF1ZI3XgGpZsvyGsiNM7UJ+4WIMbk7srdLTyDQ2Fygn/uJvlXn/D1ip6QO4392h8g8bhnbRdltX+1zqY7feWWndLew23hXrC7K9nZjNfYhnLhVqUKs6kivwfXuq6Uxic0Wlp2r2jX41g3FlrHMM9YNiEYPMsO5tieUe6YoXswR0kLkYnGoOcE7SydMYPfO/BKgwz41rOtpIlaR/ztPH359VbmJ+np/e8+TzLFotFWusuNa7O1no+w9qqk/P0NG1CqyKFkGv9h9n6dtkF6xdY1+RSabIokjGMMjBG4uxyOIhIBFfrEP5pep6enrgyPT9lu9b40KLei3SMc4L70/zBJbxtzsf/oc3/0LpzAn0LmVUodbwmGOfVmktuxMYa08teeieJYNZgidVqip6unep7Xv7akWMOmyRijk7ynRgpLNk0MvfdHS0ZiAGSE2YQhhtVN3TyAXf2yUbjoizJhh/K7tPi1fUnkYjp+n+uNRWrOFzwVIkLkYv4Uxg2s15cWwmFuu6wZtnBJHMKrrlvxzYcUbJ54UNttvRyL8BDthrOwU8+1VGV1Wrgsr7fyg9b39XYUuQgzUBO+r7/F0mjoBM=",sidebar_class_name:"put api-method",info_path:"docs/1backend/1-backend",custom_edit_url:null},k=void 0,y={},b=[];function f(e){const s={code:"code",p:"p",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.default,{as:"h1",className:"openapi__heading",children:"Save Permissions"}),"\n",(0,n.jsx)(a(),{method:"put",path:"/user-svc/permissions",context:"endpoint"}),"\n",(0,n.jsxs)(s.p,{children:["Creates or updates a list of permissions.\n",(0,n.jsx)("b",{children:"The permission ID must be prefixed by the callers slug."}),"\nEg. if the owner's slug is ",(0,n.jsx)(s.code,{children:"petstore-svc"})," the permission should look like ",(0,n.jsx)(s.code,{children:"petstore-svc:pet:edit"}),"."]}),"\n",(0,n.jsxs)(s.p,{children:["Requires the ",(0,n.jsx)(s.code,{children:"user-svc:permission:create"})," permission."]}),"\n",(0,n.jsx)(m.default,{id:"request",as:"h2",className:"openapi-tabs__heading",children:"Request"}),"\n",(0,n.jsx)(d(),{parameters:void 0}),"\n",(0,n.jsx)(l(),{title:"Body",body:{content:{"application/json":{schema:{properties:{permissions:{items:{properties:{createdAt:{type:"string"},description:{type:"string"},id:{description:'eg. "user.viewer"',type:"string"},name:{description:'eg. "User Viewer"',type:"string"},ownerId:{description:'Service who owns the permission\n\nUncertain if this aligns with the system\'s use of slugs.\nIssue encountered: I renamed Docker Svc to Container Svc in two steps (by mistake).\nThe name/slug had already changed to "container-svc," but data was still being saved\nin the "dockerSvcCredentials" table.\nAfter renaming the tables as well, I hit a "cannot update unowned permission" error\nbecause ownership relies on this field rather than the user slug. YMMV.',type:"string"},updatedAt:{type:"string"}},type:"object"},type:"array"}},type:"object"}}},description:"Permission Details",required:!0}}),"\n",(0,n.jsx)(u(),{id:void 0,label:void 0,responses:{200:{description:"OK",content:{"application/json":{schema:{properties:{permissions:{items:{properties:{createdAt:{type:"string"},description:{type:"string"},id:{description:'eg. "user.viewer"',type:"string"},name:{description:'eg. "User Viewer"',type:"string"},ownerId:{description:'Service who owns the permission\n\nUncertain if this aligns with the system\'s use of slugs.\nIssue encountered: I renamed Docker Svc to Container Svc in two steps (by mistake).\nThe name/slug had already changed to "container-svc," but data was still being saved\nin the "dockerSvcCredentials" table.\nAfter renaming the tables as well, I hit a "cannot update unowned permission" error\nbecause ownership relies on this field rather than the user slug. YMMV.',type:"string"},updatedAt:{type:"string"}},type:"object"},type:"array"}},type:"object"}}}},400:{description:"Bad Request: Invalid JSON or Bad Namespace",content:{"application/json":{schema:{type:"string"}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{type:"string"}}}},500:{description:"Internal Server Error",content:{"application/json":{schema:{type:"string"}}}}}})]})}function v(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(f,{...e})}):f(e)}}}]);