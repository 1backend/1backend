"use strict";(self.webpackChunksingulatron_api_docs=self.webpackChunksingulatron_api_docs||[]).push([[8410],{32289:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>y,contentTitle:()=>j,default:()=>x,frontMatter:()=>f,metadata:()=>s,toc:()=>b});const s=JSON.parse('{"id":"1backend-api/save-routes","title":"Save Routes","description":"Save routes that the edge proxy will use to route requests.","source":"@site/docs/1backend-api/save-routes.api.mdx","sourceDirName":"1backend-api","slug":"/1backend-api/save-routes","permalink":"/docs/1backend-api/save-routes","draft":false,"unlisted":false,"editUrl":null,"tags":[],"version":"current","frontMatter":{"id":"save-routes","title":"Save Routes","description":"Save routes that the edge proxy will use to route requests.","sidebar_label":"Save Routes","hide_title":true,"hide_table_of_contents":true,"api":"eJzFV0tv20YQ/iuDPSUARVqxi6I8GHXatFDrNoYfJ8uHETmiNlrubnaXklVB/72YXUqWZDWHBEh1ICjuPL6Zb2Y4XIuafOWkDdJoUYo7XBA40wXyEGYYIMwIqG4IrDPPK1hKpaDzBMEkMXD0uSMffC4yYSw5ZEujWpTC44JuoymRiV7svalXolyLyuhAOvAtWqtkFdWKT55RrIWvZtQi31nHRoMkz/8SMr6TgVr/WkDWfD2MaVSD9DGQmfEBZPCkphlQ3uQwFoF8yJWpUPHpWIhMhJUlxh+c1I3YZCKgayiCPTrapMCko1qUj+z9aaduJp+oClE9PUDncBV1jiT40QkaUu7gNmVO7LsKrqPo21ujfQr93dnZ69h7G0xFDb6rKvJ+2im1Etn/xAGrS93AnFZlIsSqzoOJkqjAYpiBdTSVz/lYf3jG1ioqxxpgLJ7zyrRjAQe/wSU4YwKYabRfmxal3pMv2OLwRWtwCa2snJm6GH8NGKCXOVaK13esOriEmsiSO9JtTacD7dnoVfRYP3iCCj2V0HYqSKvoUNeDJ8e0dLomF7F7bPsinXRhrD1ZdMjmJyt4uL1OufHUtKSDz+E344D2EjSAv9DNKabXy0CMKqUsHv6KfjYx6Ord8wKtTWdXdSs1PIwOjgrkpxzLtTHzzgKqxjgZZm10N8zhHueUWE1FmsCjrhPUN32PHVksOk/Oj8XbnM28y+HerXigtBiqWTSnjG7YnKNG+kCOahjFLFhnGkfeywWpFXAbWit1w3YAIDiUiqM/SFTZnzL3x8ElKADwRvf+335BeldzbxLUwSVgn7iodp7DaAo+8JDc2ssSSsAGpT4N5bCe94zXW8ai9YuT1qeo1ASrOSeQsz8wWq3SbH7tDV7/Xry1B8UTXf4QXepXloGepQ8+A0ehcxouzi5yrpP7mfTM0ULW5KGmQK6VWvogqy2ng9TbuzmwlGFmukg1PYNxY+06RUC6kZp8BnMiZjiWRWtqUuAlVzy3CJDGyY7wwQQ91WN92KGVaa3xkqdL/o2zfSf8dUN+k4mLUzN6pBeoZA1/3H38++vHMjln3OkwTiMZvkbyoLELM+PkP1R/NyQ/nM5JIMevgzuekQ4+RJvfB9ImE56qzsmwEuXjWrwndOSuujAT5ePThsnHxnNN3MSd6G5RcUW0FGaG9x7b8cuaK1KUooh708AvqsJtd6E4952PxjunWKrYbSDlcHh+/qNgN1sUdxxVCmQfy3HO7leWYNyLjAVMjVJmmd4eCN5iRXE0BzMnDVil2oapM23srgdPjoOBa9NIDaRra6QO3DWS7c8Ia2ISNLacsqu+ViIFL62FVv5JqQWYltuXxa9/me8vEY9pXdgS8tKOO4qeNux+arZbI1aRfWpRqrhkKvI/e6mbTmFwRvOY28N4M4K7zlrjmJOU7FkItiyKIU9N0nWcwuLVCnY1GmgMctG/tZkzWZEHqzBMjWs5LUpWpH0MaOvv95trWJznZwfefFkUy+Uyb3SXG9cUvZ4vsLFqcJ6f5bPQqjhFyLX+4/QueXsB65fYNORyaYooUnCqZOBkiuH7FIjIBJdVgn+W/5QP2aI1PrSo9zDuLZfiKOq9xfwbPwX6Ygj0HAqrUGrGEjOy7lvjUexag3fbhOcpE9wEfLpe8zx/cGqz4cefO3Lcj0+ZWKCTOOHYH7k6+rrkWprTSpTilxTDgBuCk4KqS4V5NDA22VbjqqrIhi/K7nf4zcO9yMSk/5bht5IohcMlx4FLUYr4LcTKaWPmZ2uhUDcdNiybTHKLYN/KL83DiLLtDQe1PdKrPYDHzZfi4CtHdVJlvU6tudns5NPRf2rsOj5JM4lPm83mXzOh14s=","sidebar_class_name":"put api-method","info_path":"docs/1backend-api/1-backend","custom_edit_url":null},"sidebar":"openApiSidebar","previous":{"title":"List Routes","permalink":"/docs/1backend-api/list-routes"},"next":{"title":"Register a Definition","permalink":"/docs/1backend-api/save-definition"}}');var i=a(74848),o=a(28453),r=a(57742),n=a.n(r),p=a(78178),d=a.n(p),u=a(19624),c=a.n(u),l=a(96226),m=a.n(l),h=(a(77675),a(19365),a(51107));const f={id:"save-routes",title:"Save Routes",description:"Save routes that the edge proxy will use to route requests.",sidebar_label:"Save Routes",hide_title:!0,hide_table_of_contents:!0,api:"eJzFV0tv20YQ/iuDPSUARVqxi6I8GHXatFDrNoYfJ8uHETmiNlrubnaXklVB/72YXUqWZDWHBEh1ICjuPL6Zb2Y4XIuafOWkDdJoUYo7XBA40wXyEGYYIMwIqG4IrDPPK1hKpaDzBMEkMXD0uSMffC4yYSw5ZEujWpTC44JuoymRiV7svalXolyLyuhAOvAtWqtkFdWKT55RrIWvZtQi31nHRoMkz/8SMr6TgVr/WkDWfD2MaVSD9DGQmfEBZPCkphlQ3uQwFoF8yJWpUPHpWIhMhJUlxh+c1I3YZCKgayiCPTrapMCko1qUj+z9aaduJp+oClE9PUDncBV1jiT40QkaUu7gNmVO7LsKrqPo21ujfQr93dnZ69h7G0xFDb6rKvJ+2im1Etn/xAGrS93AnFZlIsSqzoOJkqjAYpiBdTSVz/lYf3jG1ioqxxpgLJ7zyrRjAQe/wSU4YwKYabRfmxal3pMv2OLwRWtwCa2snJm6GH8NGKCXOVaK13esOriEmsiSO9JtTacD7dnoVfRYP3iCCj2V0HYqSKvoUNeDJ8e0dLomF7F7bPsinXRhrD1ZdMjmJyt4uL1OufHUtKSDz+E344D2EjSAv9DNKabXy0CMKqUsHv6KfjYx6Ord8wKtTWdXdSs1PIwOjgrkpxzLtTHzzgKqxjgZZm10N8zhHueUWE1FmsCjrhPUN32PHVksOk/Oj8XbnM28y+HerXigtBiqWTSnjG7YnKNG+kCOahjFLFhnGkfeywWpFXAbWit1w3YAIDiUiqM/SFTZnzL3x8ElKADwRvf+335BeldzbxLUwSVgn7iodp7DaAo+8JDc2ssSSsAGpT4N5bCe94zXW8ai9YuT1qeo1ASrOSeQsz8wWq3SbH7tDV7/Xry1B8UTXf4QXepXloGepQ8+A0ehcxouzi5yrpP7mfTM0ULW5KGmQK6VWvogqy2ng9TbuzmwlGFmukg1PYNxY+06RUC6kZp8BnMiZjiWRWtqUuAlVzy3CJDGyY7wwQQ91WN92KGVaa3xkqdL/o2zfSf8dUN+k4mLUzN6pBeoZA1/3H38++vHMjln3OkwTiMZvkbyoLELM+PkP1R/NyQ/nM5JIMevgzuekQ4+RJvfB9ImE56qzsmwEuXjWrwndOSuujAT5ePThsnHxnNN3MSd6G5RcUW0FGaG9x7b8cuaK1KUooh708AvqsJtd6E4952PxjunWKrYbSDlcHh+/qNgN1sUdxxVCmQfy3HO7leWYNyLjAVMjVJmmd4eCN5iRXE0BzMnDVil2oapM23srgdPjoOBa9NIDaRra6QO3DWS7c8Ia2ISNLacsqu+ViIFL62FVv5JqQWYltuXxa9/me8vEY9pXdgS8tKOO4qeNux+arZbI1aRfWpRqrhkKvI/e6mbTmFwRvOY28N4M4K7zlrjmJOU7FkItiyKIU9N0nWcwuLVCnY1GmgMctG/tZkzWZEHqzBMjWs5LUpWpH0MaOvv95trWJznZwfefFkUy+Uyb3SXG9cUvZ4vsLFqcJ6f5bPQqjhFyLX+4/QueXsB65fYNORyaYooUnCqZOBkiuH7FIjIBJdVgn+W/5QP2aI1PrSo9zDuLZfiKOq9xfwbPwX6Ygj0HAqrUGrGEjOy7lvjUexag3fbhOcpE9wEfLpe8zx/cGqz4cefO3Lcj0+ZWKCTOOHYH7k6+rrkWprTSpTilxTDgBuCk4KqS4V5NDA22VbjqqrIhi/K7nf4zcO9yMSk/5bht5IohcMlx4FLUYr4LcTKaWPmZ2uhUDcdNiybTHKLYN/KL83DiLLtDQe1PdKrPYDHzZfi4CtHdVJlvU6tudns5NPRf2rsOj5JM4lPm83mXzOh14s=",sidebar_class_name:"put api-method",info_path:"docs/1backend-api/1-backend",custom_edit_url:null},j=void 0,y={},b=[];function k(e){const t={p:"p",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.default,{as:"h1",className:"openapi__heading",children:"Save Routes"}),"\n",(0,i.jsx)(n(),{method:"put",path:"/proxy-svc/routes",context:"endpoint"}),"\n",(0,i.jsx)(t.p,{children:"Save routes that the edge proxy will use to route requests."}),"\n",(0,i.jsx)(h.default,{id:"request",as:"h2",className:"openapi-tabs__heading",children:"Request"}),"\n",(0,i.jsx)(d(),{parameters:void 0}),"\n",(0,i.jsx)(c(),{title:"Body",body:{content:{"application/json":{schema:{properties:{routes:{items:{properties:{id:{description:'Id is the host itself, e.g. "test.localhost"',type:"string"},target:{type:"string"}},required:["id"],type:"object"},type:"array"}},type:"object"}}},description:"Save Routes Request",required:!0}}),"\n",(0,i.jsx)(m(),{id:void 0,label:void 0,responses:{200:{description:"Routes saved successfully",content:{"application/json":{schema:{properties:{routes:{items:{properties:{id:{description:'Id is the routing key: host plus optional path prefix.\nExample:\n  "x.com"              -> root of the domain\n  "x.com/path1"        -> microfrontend at /path1\n  "x.com/path1/path2"  -> deeper microfrontend mounted at /path1/path2\n\nUse case: multiple microfrontends served under the same host but\nseparated by URL path segments. For example:\n  - Marketing site at x.com\n  - Dashboard at x.com/app\n  - Admin UI at x.com/app/admin\n\nLookup algorithm:\n  1. Take the request host and path (e.g. "x.com/app/admin/users").\n  2. Try to match the longest registered Id by progressively stripping\n     trailing path segments:\n        - x.com/app/admin/users   (no match)\n        - x.com/app/admin         (match -> admin UI)\n  3. If still no match, strip again:\n        - x.com/app               (match -> dashboard)\n  4. If still no match, fallback to host-only route:\n        - x.com                   (match -> marketing site)\n  5. If no host-only route exists, return 404.\n\nThis provides deterministic longest-prefix routing without regex or\nrule engines, keeping the model simple but enabling path-based\nmicrofrontend composition.',type:"string"},target:{type:"string"}},required:["id","target"],type:"object"},type:"array"}},type:"object"}}}},400:{description:"Invalid JSON",content:{"application/json":{schema:{properties:{error:{type:"string"}},type:"object"}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{properties:{error:{type:"string"}},type:"object"}}}},500:{description:"Internal Server Error",content:{"application/json":{schema:{properties:{error:{type:"string"}},type:"object"}}}}}})]})}function x(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(k,{...e})}):k(e)}}}]);