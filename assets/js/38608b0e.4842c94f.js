"use strict";(self.webpackChunksingulatron_api_docs=self.webpackChunksingulatron_api_docs||[]).push([[5647],{35438:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>j,contentTitle:()=>y,default:()=>f,frontMatter:()=>m,metadata:()=>n,toc:()=>z});const n=JSON.parse('{"id":"1backend-api/save-enrolls","title":"Save Enrolls","description":"Enroll a list of users by contact or user Id to acquire a role.","source":"@site/docs/1backend-api/save-enrolls.api.mdx","sourceDirName":"1backend-api","slug":"/1backend-api/save-enrolls","permalink":"/docs/1backend-api/save-enrolls","draft":false,"unlisted":false,"editUrl":null,"tags":[],"version":"current","frontMatter":{"id":"save-enrolls","title":"Save Enrolls","description":"Enroll a list of users by contact or user Id to acquire a role.","sidebar_label":"Save Enrolls","hide_title":true,"hide_table_of_contents":true,"api":"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","sidebar_class_name":"put api-method","info_path":"docs/1backend-api/1-backend","custom_edit_url":null},"sidebar":"openApiSidebar","previous":{"title":"List Enrolls","permalink":"/docs/1backend-api/list-enrolls"},"next":{"title":"Login","permalink":"/docs/1backend-api/login"}}');var t=r(74848),i=r(28453),o=r(57742),a=r.n(o),l=r(78178),d=r.n(l),c=r(19624),p=r.n(c),h=r(96226),u=r.n(h),g=(r(77675),r(19365),r(51107));const m={id:"save-enrolls",title:"Save Enrolls",description:"Enroll a list of users by contact or user Id to acquire a role.",sidebar_label:"Save Enrolls",hide_title:!0,hide_table_of_contents:!0,api:"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",sidebar_class_name:"put api-method",info_path:"docs/1backend-api/1-backend",custom_edit_url:null},y=void 0,j={},z=[];function v(e){const s={code:"code",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.default,{as:"h1",className:"openapi__heading",children:"Save Enrolls"}),"\n",(0,t.jsx)(a(),{method:"put",path:"/user-svc/enrolls",context:"endpoint"}),"\n",(0,t.jsx)(s.p,{children:"Enroll a list of users by contact or user Id to acquire a role.\nWorks on future or current users."}),"\n",(0,t.jsxs)(s.p,{children:["Requires the ",(0,t.jsx)(s.code,{children:"user-svc:enroll:edit"}),' permission, which by default all users have.\nA user can only enroll an other user to a role if the user "owns" that role.']}),"\n",(0,t.jsx)(s.p,{children:'A user "owns" a role in the following cases:'}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"A static role where the role ID is prefixed with the caller's slug."}),"\n",(0,t.jsxs)(s.li,{children:["Any dynamic or static role where the caller is an admin (has ",(0,t.jsx)(s.code,{children:"*:admin"})," postfix of that role)."]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"Examples:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["A user with the slug ",(0,t.jsx)(s.code,{children:"joe-doe"})," owns roles like ",(0,t.jsx)(s.code,{children:"joe-doe:*"})," such as ",(0,t.jsx)(s.code,{children:"joe-doe:any-custom-role"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:["A user with any slug who has the role ",(0,t.jsx)(s.code,{children:"my-service:admin"})," owns ",(0,t.jsx)(s.code,{children:"my-service:*"})," roles such as ",(0,t.jsx)(s.code,{children:"my-service:user"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:["A user with any slug who has the role ",(0,t.jsx)(s.code,{children:"user-svc:org:{%orgId}:admin"})," owns ",(0,t.jsx)(s.code,{children:"user-svc:org:{%orgId}:*"})," such as ",(0,t.jsx)(s.code,{children:"user-svc:org:{%orgId}:user"}),"."]}),"\n"]}),"\n",(0,t.jsx)(g.default,{id:"request",as:"h2",className:"openapi-tabs__heading",children:"Request"}),"\n",(0,t.jsx)(d(),{parameters:void 0}),"\n",(0,t.jsx)(p(),{title:"Body",body:{content:{"application/json":{schema:{properties:{enrolls:{items:{properties:{app:{example:"unnamed,omitempty",type:"string"},contactId:{description:"ContactId is the the recipient of the enroll.\nIf the user is already registered, the role is assigned immediately;\notherwise, it is applied upon registration.",type:"string"},id:{example:"inv_fIYPbMHIcI",type:"string"},role:{type:"string"},userId:{description:"UserId is the recipient of the enroll.\nIf the user is already registered, the role is assigned immediately;\notherwise, it is applied upon registration.",type:"string"}},required:["role"],type:"object"},type:"array"}},required:["enrolls"],type:"object"}}},description:"Save Enrolls Request",required:!0}}),"\n",(0,t.jsx)(u(),{id:void 0,label:void 0,responses:{200:{description:"Enrolls saved successfully",content:{"application/json":{schema:{properties:{enrolls:{items:{properties:{app:{description:"App of the enroll.\nUse `*` to match all apps, such as when bootstrapping\nin services.",example:"unnamed,omitempty",type:"string"},contactId:{description:"ContactId is the the recipient of the enroll.\nIf the user is already registered, the role is assigned immediately;\notherwise, it is applied upon registration.",type:"string"},createdAt:{type:"string"},createdBy:{description:"CreatedBy contains the ID of the user who created the Enroll.",type:"string"},deletedAt:{type:"string"},id:{example:"inv_fIYPbMHIcI",type:"string"},role:{description:'Role specifies the role to be assigned to the ContactId.\nCallers can only assign roles they own, identified by their service slug\n(e.g., if "my-service" creates an enroll, the role must be "my-service:admin").\nDynamic organization roles can also be assigned\n(e.g., "user-svc:org:{%orgId}:admin" or "user-svc:org:{%orgId}:user"),\nbut in this case, the caller must be an admin of the target organization.',type:"string"},updatedAt:{type:"string"},userId:{description:"UserId is the recipient of the enroll.\nIf the user is already registered, the role is assigned immediately;\notherwise, it is applied upon registration.",type:"string"}},required:["createdAt","id","role","updatedAt"],type:"object"},type:"array"}},required:["enrolls"],type:"object"}}}},400:{description:"Invalid JSON",content:{"application/json":{schema:{properties:{error:{type:"string"}},type:"object"}}}},401:{description:"Unauthorized",content:{"application/json":{schema:{properties:{error:{type:"string"}},type:"object"}}}},500:{description:"Internal Server Error",content:{"application/json":{schema:{properties:{error:{type:"string"}},type:"object"}}}}}})]})}function f(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(v,{...e})}):v(e)}}}]);