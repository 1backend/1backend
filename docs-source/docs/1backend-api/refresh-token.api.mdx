---
id: refresh-token
title: "Refresh Token"
description: "Refreshes an existing token, including inactive ones."
sidebar_label: "Refresh Token"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/1backend-api/1-backend
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Refresh Token"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/user-svc/refresh-token"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Refreshes an existing token, including inactive ones.
The old token becomes inactive (if not already inactive), and a new, active token is issued.
This allows continued verification of user roles without requiring a new login.
Inactive tokens are refreshable unless explicitly revoked (no mechanism for this yet).
Leaked tokens should be handled separately, via a revocation flag or deletion.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"content":{"application/json":{"schema":{"properties":{"token":{"description":"Due to the nature of JWT tokens, the token must be refreshed after\ncreating an organization, as dynamic organization roles are embedded in it.","properties":{"active":{"description":"Active tokens contain the most up-to-date information.\nWhen a user's role changes—due to role assignment, organization\ncreation/assignment, etc.—all existing tokens are marked inactive.\nActive tokens are reused during login, while inactive tokens\nthat have been recently refreshed (being used still) are kept for further refreshing\n(unless `OB_TOKEN_AUTO_REFRESH_OFF` is set to true, old tokens can be refreshed indefinitely.)\n\nActive tokens contain the most up-to-date information.\nWhen a user's role changes—due to role assignment, organization\ncreation/assignment, etc.—all existing tokens are marked inactive.\nActive tokens are reused during login, while inactive tokens\nthat have been recently refreshed (see `lastRefreshedAt` field) and are still in use are retained for further refreshing.\n(Unless `OB_TOKEN_AUTO_REFRESH_OFF` is set to true, in which case old tokens can be refreshed indefinitely.)","type":"boolean"},"app":{"example":"unnamed,omitempty","type":"string"},"createdAt":{"type":"string"},"deletedAt":{"type":"string"},"device":{"description":"The device the token is associated with.\nThis in combination with LastRefreshedAt can be used to\ndetermine if the token is still in use, and lets us prune unused tokens.","type":"string"},"expiresAt":{"type":"string"},"id":{"type":"string"},"lastRefreshedAt":{"description":"The last time the token was refreshed.\nThis is used to determine if the token is still in use.","type":"string"},"token":{"description":"Token is a signed JWT used to authenticate the user without querying the User Svc.\nYou can verify it using the public key at `/user-svc/public-key`.\n\nThe token is just a JSON object with fields like:\n- \"oui\": the user ID (e.g., \"usr_dC4K75Cbp6\")\n- \"olu\": the user slug (e.g., \"test-user-slug-0\")\n- \"oro\": a list of roles, such as:\n  - \"user-svc:user\"\n  - \"user-svc:org:{org_dC4K7NNDCG}:user\"","type":"string"},"updatedAt":{"type":"string"},"userId":{"type":"string"}},"required":["createdAt","device","expiresAt","id","token","updatedAt","userId"],"type":"object","title":"user_svc.AuthToken"}},"required":["token"],"type":"object","title":"user_svc.RefreshTokenResponse"}}},"description":"Refresh Token successful"},"401":{"content":{"application/json":{"schema":{"properties":{"error":{"type":"string"}},"type":"object","title":"user_svc.ErrorResponse"}}},"description":"Unauthorized"},"500":{"content":{"application/json":{"schema":{"properties":{"error":{"type":"string"}},"type":"object","title":"user_svc.ErrorResponse"}}},"description":"Internal Server Error"}}}
>
  
</StatusCodes>


      