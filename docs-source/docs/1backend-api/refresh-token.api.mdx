---
id: refresh-token
title: "Refresh Token"
description: "Refreshes an existing token, including inactive ones."
sidebar_label: "Refresh Token"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/1backend-api/1-backend
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Refresh Token"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/user-svc/refresh-token"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Refreshes an existing token, including inactive ones.
The old token becomes inactive (if not already inactive), and a new, active token is issued.
This allows continued verification of user roles without requiring a new login.
Inactive tokens are refreshable unless explicitly revoked (no mechanism for this yet).
Leaked tokens should be handled separately, via a revocation flag or deletion.

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Refresh Token successful","content":{"application/json":{"schema":{"properties":{"token":{"properties":{"active":{"description":"Active tokens contain the most up-to-date information.\nWhen a user's role changes—due to role assignment, organization\ncreation/assignment, etc.—all existing tokens are marked inactive.\nActive tokens are reused during login, while inactive tokens\nthat have been recently refreshed (being used still) are kept for further refreshing\n(unless `OB_TOKEN_AUTO_REFRESH_OFF` is set to true, old tokens can be refreshed indefinitely.)\n\nActive tokens contain the most up-to-date information.\nWhen a user's role changes—due to role assignment, organization\ncreation/assignment, etc.—all existing tokens are marked inactive.\nActive tokens are reused during login, while inactive tokens\nthat have been recently refreshed (see `lastRefreshedAt` field) and are still in use are retained for further refreshing.\n(Unless `OB_TOKEN_AUTO_REFRESH_OFF` is set to true, in which case old tokens can be refreshed indefinitely.)","type":"boolean"},"app":{"properties":{"host":{"type":"string"},"id":{"type":"string"}},"required":["host","id"],"type":"object"},"appId":{"type":"string"},"createdAt":{"type":"string"},"deletedAt":{"type":"string"},"device":{"description":"The device the token is associated with.\nThis in combination with LastRefreshedAt can be used to\ndetermine if the token is still in use, and lets us prune unused tokens.","type":"string"},"expiresAt":{"type":"string"},"id":{"type":"string"},"lastRefreshedAt":{"description":"The last time the token was refreshed.\nThis is used to determine if the token is still in use.","type":"string"},"token":{"description":"Token is a signed JWT used to authenticate the user without querying the User Svc.\nYou can verify it using the public key at `/user-svc/public-key`.\n\nThe token is just a JSON object with fields like:\n- \"oui\": the user ID (e.g., \"usr_dC4K75Cbp6\")\n- \"olu\": the user slug (e.g., \"test-user-slug-0\")\n- \"oro\": a list of roles, such as:\n  - \"user-svc:user\"\n  - \"user-svc:org:{org_dC4K7NNDCG}:user\"","type":"string"},"updatedAt":{"type":"string"},"userId":{"type":"string"}},"required":["appId","createdAt","device","expiresAt","id","token","updatedAt","userId"],"type":"object"}},"required":["token"],"type":"object"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"properties":{"error":{"type":"string"}},"type":"object"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"properties":{"error":{"type":"string"}},"type":"object"}}}}}}
>
  
</StatusCodes>


      