---
id: refresh-token
title: "Refresh Token"
description: "Refreshes an existing token, including inactive ones."
sidebar_label: "Refresh Token"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/1backend-api/1-backend
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Refresh Token"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/user-svc/refresh-token"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Refreshes an existing token, including inactive ones.
The old token becomes inactive (if not already inactive), and a new, active token is issued.
This allows continued verification of user roles without requiring a new login.
Inactive tokens are refreshable unless explicitly revoked (no mechanism for this yet).
Leaked tokens should be handled separately, via a revocation flag or deletion.

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Refresh Token successful","content":{"application/json":{"schema":{"properties":{"token":{"properties":{"active":{"description":"Active tokens contain the most up-to-date information.\nWhen a user's role changes—due to role assignment, organization\ncreation/assignment, etc.—all existing tokens are marked inactive.\nActive tokens are reused during login, while inactive tokens\nthat have been recently refreshed (being used still) are kept for further refreshing\n(unless `OB_TOKEN_AUTO_REFRESH_OFF` is set to true, old tokens can be refreshed indefinitely.)\n\nActive tokens contain the most up-to-date information.\nWhen a user's role changes—due to role assignment, organization\ncreation/assignment, etc.—all existing tokens are marked inactive.\nActive tokens are reused during login, while inactive tokens\nthat have been recently refreshed (see `lastRefreshedAt` field) and are still in use are retained for further refreshing.\n(Unless `OB_TOKEN_AUTO_REFRESH_OFF` is set to true, in which case old tokens can be refreshed indefinitely.)","type":"boolean"},"app":{"properties":{"host":{"type":"string"},"id":{"type":"string"}},"required":["host","id"],"type":"object"},"appId":{"type":"string"},"createdAt":{"type":"string"},"deletedAt":{"type":"string"},"device":{"description":"The device the token is associated with.\nThis in combination with LastRefreshedAt can be used to\ndetermine if the token is still in use, and lets us prune unused tokens.","type":"string"},"expiresAt":{"type":"string"},"id":{"type":"string"},"internalId":{"type":"string"},"lastRefreshedAt":{"description":"The last time the token was refreshed.\nThis is used to determine if the token is still in use.","type":"string"},"token":{"description":"Token is a signed JWT used to authenticate the user without querying the User Svc.\nYou can verify it using the public key at `/user-svc/public-key`.\n\nThe token is just a JSON object with fields like:\n- \"oui\": the user ID (e.g., \"usr_dC4K75Cbp6\")\n- \"olu\": the user slug (e.g., \"test-user-slug-0\")\n- \"oro\": a list of roles, such as:\n  - \"user-svc:user\"\n  - \"user-svc:org:{org_dC4K7NNDCG}:user\"","type":"string"},"updatedAt":{"type":"string"},"userId":{"type":"string"}},"required":["appId","createdAt","device","expiresAt","id","token","updatedAt","userId"],"type":"object"}},"required":["token"],"type":"object"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"properties":{"error":{"type":"string"}},"type":"object"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"properties":{"error":{"type":"string"}},"type":"object"}}}}}}
>
  
</StatusCodes>


      