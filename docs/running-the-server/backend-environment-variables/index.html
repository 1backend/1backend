<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-running-the-server/backend-environment-variables" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Backend Environment Variables | 1Backend</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:url" content="https://1backend.com/docs/running-the-server/backend-environment-variables"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="ai, llm, free gpt, gpt, open-source, open source, ai framework, ai server"><meta data-rh="true" name="title" content="1Backend Documentation"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Backend Environment Variables | 1Backend"><meta data-rh="true" name="description" content="OBCONTACTEMAIL"><meta data-rh="true" property="og:description" content="OBCONTACTEMAIL"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://1backend.com/docs/running-the-server/backend-environment-variables"><link data-rh="true" rel="alternate" href="https://1backend.com/docs/running-the-server/backend-environment-variables" hreflang="en"><link data-rh="true" rel="alternate" href="https://1backend.com/docs/running-the-server/backend-environment-variables" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Running the server","item":"https://1backend.com/docs/category/running-the-server"},{"@type":"ListItem","position":2,"name":"Backend Environment Variables","item":"https://1backend.com/docs/running-the-server/backend-environment-variables"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="1Backend RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="1Backend Atom Feed"><link rel="stylesheet" href="/assets/css/styles.3dafe63f.css">
<script src="/assets/js/runtime~main.d1151a37.js" defer="defer"></script>
<script src="/assets/js/main.baf36343.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo_circled_grey.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo_circled_grey.svg" alt="1Backend Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo_circled_grey.svg" alt="1Backend Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">1Backend</b></a><a class="navbar__item navbar__link" href="/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/docs/category/1backend-api">API</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/1backend/1backend" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Welcome to 1Backend</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/running-the-server">Running the server</a><button aria-label="Collapse sidebar category &#x27;Running the server&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/running-the-server/locally">Running the 1Backend server locally</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/running-the-server/docker-compose">Running the 1Backend server with Docker Compose and prebuilt images</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/running-the-server/frontend-environment-variables">Frontend Environment Variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/running-the-server/backend-environment-variables">Backend Environment Variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/running-the-server/using">Once the 1Backend server is running</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/built-in-services">Built-in services</a><button aria-label="Expand sidebar category &#x27;Built-in services&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/writing-custom-services">Writing custom services</a><button aria-label="Expand sidebar category &#x27;Writing custom services&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/command-line">Command line</a><button aria-label="Expand sidebar category &#x27;Command line&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/contributing">Contributing</a><button aria-label="Expand sidebar category &#x27;Contributing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/platform-capabilities">Platform capabilities</a><button aria-label="Expand sidebar category &#x27;Platform capabilities&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/privacy-notice">Privacy Notice</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/1backend-api/1-backend">1backend-api</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_xLCN"><div class="docItemContainer_jfFK"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/category/running-the-server"><span>Running the server</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Backend Environment Variables</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><div class="row"><div class="col col--12 markdown"><header><h1>Backend Environment Variables</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ob_contact_email"><code>OB_CONTACT_EMAIL</code><a href="#ob_contact_email" class="hash-link" aria-label="Direct link to ob_contact_email" title="Direct link to ob_contact_email">​</a></h2>
<p>Specifies the system-wide contact email address for operational and administrative use.</p>
<p>This email is used in various backend components, including:</p>
<ul>
<li>ACME TLS certificate registration (e.g., Let&#x27;s Encrypt)</li>
<li>System notifications or future alerting mechanisms</li>
<li>Recovery options for certain services that require a fallback contact</li>
</ul>
<p>While optional, it is strongly recommended to set this in production environments so you can receive:</p>
<ul>
<li>Expiration or renewal notices for HTTPS certificates</li>
<li>Warnings about rate limits or configuration issues</li>
<li>Future administrative alerts from the system</li>
</ul>
<p>This address will not be used for login or user account purposes.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ob_db"><code>OB_DB</code><a href="#ob_db" class="hash-link" aria-label="Direct link to ob_db" title="Direct link to ob_db">​</a></h2>
<p>You can use this envar to make 1Backend actually use a database instead of local file storage to store data.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ob_db_prefix"><code>OB_DB_PREFIX</code><a href="#ob_db_prefix" class="hash-link" aria-label="Direct link to ob_db_prefix" title="Direct link to ob_db_prefix">​</a></h2>
<p>When specified, all tables in the database will be prefixed by this strings. Mostly useful for testing.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="postgresql">PostgreSQL<a href="#postgresql" class="hash-link" aria-label="Direct link to PostgreSQL" title="Direct link to PostgreSQL">​</a></h3>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token assign-left variable" style="color:rgb(191, 199, 213)">OB_DB</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">postgres</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">OB_DB_DRIVER</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;postgres&quot;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># or &quot;mysql&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">OB_DB_CONNECTION_STRING</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;postgres://postgres:mysecretpassword@localhost:5432/mydatabase?sslmode=disable&quot;</span><br></span></code></pre></div></div>
<p>Naturally, you should change the details of the connection string to reflect your environment.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ob_edge_proxy"><code>OB_EDGE_PROXY</code><a href="#ob_edge_proxy" class="hash-link" aria-label="Direct link to ob_edge_proxy" title="Direct link to ob_edge_proxy">​</a></h2>
<p>When set to true, 1Backend will enable the edge proxy feature. This feature configures the system to listen for incoming HTTP and HTTPS traffic on ports 80 and 443, respectively.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token assign-left variable" style="color:rgb(191, 199, 213)">OB_EDGE_PROXY</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">true</span><br></span></code></pre></div></div>
<p>The edge proxy acts as a public-facing reverse proxy, handling domain-based routing and TLS termination for external requests. It is typically used to:</p>
<ul>
<li>Serve ACME HTTP-01 challenges (for automated TLS certificates, e.g., via Let&#x27;s Encrypt) on port 80.</li>
<li>Handle public HTTPS traffic on port 443, routing incoming domain-based requests to appropriate backends or services based on their domain.</li>
</ul>
<p>When <code>OB_EDGE_PROXY</code> is not set to true, 1Backend will not start these public-facing routers. Only the internal API server on the <code>OB_SERVER_URL</code> port (default: 11337) will be active.</p>
<p><strong>Typical Use Case</strong>:</p>
<p>Use this flag when 1Backend is running as a publicly accessible server that needs to:</p>
<ul>
<li>Terminate TLS (HTTPS) at the edge.</li>
<li>Serve automated certificates via ACME.</li>
<li>Route external requests based on domain names.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ob_edge_proxy_test_mode"><code>OB_EDGE_PROXY_TEST_MODE</code><a href="#ob_edge_proxy_test_mode" class="hash-link" aria-label="Direct link to ob_edge_proxy_test_mode" title="Direct link to ob_edge_proxy_test_mode">​</a></h2>
<p>Enables test mode for the edge proxy. Contrary to the production edge proxy, the dev mode:</p>
<ul>
<li>Does not try to redirect to 443</li>
<li>Does no certificate requests and renewal</li>
<li>Routes HTTP requests (vs HTTP for prod).</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ob_edge_proxy_http_port"><code>OB_EDGE_PROXY_HTTP_PORT</code><a href="#ob_edge_proxy_http_port" class="hash-link" aria-label="Direct link to ob_edge_proxy_http_port" title="Direct link to ob_edge_proxy_http_port">​</a></h2>
<p>Sets the HTTP port for the edge proxy.
In production, this must be <code>80</code>. Any other value is only for testing purposes.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ob_edge_proxy_https_port"><code>OB_EDGE_PROXY_HTTPS_PORT</code><a href="#ob_edge_proxy_https_port" class="hash-link" aria-label="Direct link to ob_edge_proxy_https_port" title="Direct link to ob_edge_proxy_https_port">​</a></h2>
<p>Sets the HTTPS port for the edge proxy.
In production, this must be <code>443</code>. Any other value is only useful in testing.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ob_encryption_key"><code>OB_ENCRYPTION_KEY</code><a href="#ob_encryption_key" class="hash-link" aria-label="Direct link to ob_encryption_key" title="Direct link to ob_encryption_key">​</a></h2>
<p>This key is used in the Secret Svc so secrets are encrypted at rest.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ob_folder"><code>OB_FOLDER</code><a href="#ob_folder" class="hash-link" aria-label="Direct link to ob_folder" title="Direct link to ob_folder">​</a></h2>
<p>When specified, all data (uploads, downloads, image resize caches, models etc.) will be stored in this folder. Defaults to <code>~/.1backend</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ob_gpu_platform"><code>OB_GPU_PLATFORM</code><a href="#ob_gpu_platform" class="hash-link" aria-label="Direct link to ob_gpu_platform" title="Direct link to ob_gpu_platform">​</a></h2>
<p>This envar is used to enabel GPU acceleration.
Supported platforms:</p>
<ul>
<li><code>cuda</code></li>
</ul>
<p>Do not set this if your card doesn&#x27;t support the given architecture or things will break.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ob_llm_host"><code>OB_LLM_HOST</code><a href="#ob_llm_host" class="hash-link" aria-label="Direct link to ob_llm_host" title="Direct link to ob_llm_host">​</a></h2>
<p><strong>This flag is typically unnecessary since 1Backend retrieves the IP of the Docker bridge. Use it only as a corrective action.</strong></p>
<p>When 1Backend is running in a container, it needs to know how to address its siblings (other containers it started):</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Host</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">-</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> 1Backend Container</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">-</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> Container Launched By 1Backend</span><br></span></code></pre></div></div>
<p>The <code>1Backend Container</code> uses the envar <code>OB_LLM_HOST</code> to address <code>Container Launched By 1Backend</code>.</p>
<p>Typically this value should be <code>172.17.0.1</code> if you are using the default docker network.</p>
<p>If you are using an other network than default, use <code>docker network inspect</code> to find out the IP of your docker bridge for that network.
Usually it&#x27;s going to be <code>172.18.0.1</code>.</p>
<p>This envar is not needed if 1Backend runs directly on the host:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Host With 1Backend</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">-</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> Container Launched By 1Backend</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ob_node_id"><code>OB_NODE_ID</code><a href="#ob_node_id" class="hash-link" aria-label="Direct link to ob_node_id" title="Direct link to ob_node_id">​</a></h2>
<p>For information about this, please refer to the <a href="/docs/built-in-services/registry-svc#node-management--cluster-topology">Registry Svc Node section</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ob_server_url"><code>OB_SERVER_URL</code><a href="#ob_server_url" class="hash-link" aria-label="Direct link to ob_server_url" title="Direct link to ob_server_url">​</a></h2>
<p>The OB_SERVER_URL is the internally addressable (non-public-facing) URL of an 1Backend server. It should point to the local 1Backend instance on each physical node. Ideally, every node should have its own 1Backend instance.</p>
<p>This envar should be set only for microservices built on 1Backend. The 1Backend server itself should use <code>OB_SELF_URL</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ob_self_url"><code>OB_SELF_URL</code><a href="#ob_self_url" class="hash-link" aria-label="Direct link to ob_self_url" title="Direct link to ob_self_url">​</a></h2>
<p>Microservices use this to register themselves in the 1Backend registry. The 1Backend server uses this to address itself.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ob_sync_certs_to_files"><code>OB_SYNC_CERTS_TO_FILES</code><a href="#ob_sync_certs_to_files" class="hash-link" aria-label="Direct link to ob_sync_certs_to_files" title="Direct link to ob_sync_certs_to_files">​</a></h2>
<p>Also save certificates to disk.</p>
<p>By default, certificates are stored in the internal datastore managed by the proxy service. However, in some cases — for example, when other containers need to access the certificates — it&#x27;s useful to have them available on the filesystem as well.</p>
<p>When this flag is set to true, the server will write certificates to the <code>OB_FOLDER/certs</code> directory (by default, <code>~/.1backend/certs</code>) using a standard directory layout compatible with common infrastructure software like Let&#x27;s Encrypt (Certbot), NGINX, and Apache.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="directory-structure">Directory Structure<a href="#directory-structure" class="hash-link" aria-label="Direct link to Directory Structure" title="Direct link to Directory Structure">​</a></h3>
<p>Certificates are organized under:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">OB_FOLDER</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">/certs/live/</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">domain</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">/</span><br></span></code></pre></div></div>
<p>Within each domain directory, files are saved as:</p>
<ul>
<li><code>cert.pem</code> — the domain’s public certificate</li>
<li><code>privkey.pem</code> — the private key corresponding to the certificate</li>
<li><code>chain.pem</code> — intermediate certificates forming the chain (if any)</li>
<li><code>fullchain.pem</code> — concatenation of cert.pem and chain.pem</li>
</ul>
<p>This structure aligns with what many TLS tools and web servers expect, making it easy to integrate with existing systems that rely on file-based certificates.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h3>
<p>For the domain <code>singulatron.com</code>, files will be saved as:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">~/.1backend/certs/live/singulatron.com/cert.pem</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">~/.1backend/certs/live/singulatron.com/privkey.pem</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">~/.1backend/certs/live/singulatron.com/chain.pem</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">~/.1backend/certs/live/singulatron.com/fullchain.pem</span><br></span></code></pre></div></div>
<p>This standard layout ensures compatibility with web servers like NGINX and Apache, as well as automation tools like Certbot, enabling easy mounting of certificates into containers or configuring HTTPS endpoints.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ob_test"><code>OB_TEST</code><a href="#ob_test" class="hash-link" aria-label="Direct link to ob_test" title="Direct link to ob_test">​</a></h2>
<p>Microservices and the 1Backend server uses this envar to detect if they are running as part of a test.</p>
<p>When set to true, subsystems act accordingly: for example the datastore will prefix tables with random numbers to provide a unique and clean environment for each test.</p>
<p>First startup is also significantly faster when this flag is enabled, as 1Backend uses bcrypt.MinCost instead of bcrypt.DefaultCost for password generation, and sets the RSA key size to 512 bits in test mode instead of the default 4096.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ob_token_auto_refresh_off"><code>OB_TOKEN_AUTO_REFRESH_OFF</code><a href="#ob_token_auto_refresh_off" class="hash-link" aria-label="Direct link to ob_token_auto_refresh_off" title="Direct link to ob_token_auto_refresh_off">​</a></h2>
<p>When set to true, clients are responsible for handling the refresh of expired tokens themselves. This overrides the default behavior, where expired tokens are automatically accepted and refreshed by the system.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ob_token_expiration"><code>OB_TOKEN_EXPIRATION</code><a href="#ob_token_expiration" class="hash-link" aria-label="Direct link to ob_token_expiration" title="Direct link to ob_token_expiration">​</a></h2>
<p>Specifies the duration before a token expires. Use formats like 5m for five minutes, 10h for ten hours, etc.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ob_volume_name"><code>OB_VOLUME_NAME</code><a href="#ob_volume_name" class="hash-link" aria-label="Direct link to ob_volume_name" title="Direct link to ob_volume_name">​</a></h2>
<p><strong>This flag is typically unnecessary since 1Backend automatically detects the volume that is bound to <code>/root/.1backend</code>. Use it only as a corrective action.</strong></p>
<p>This envar is needed when 1Backend runs as a container next to containers it starts:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Host</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">-</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> 1Backend Container</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">-</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> Container Launched By 1Backend</span><br></span></code></pre></div></div>
<p>For the containers like <code>llama-cpp</code> to be able to read the models downloaded by 1Backend we they must both mount the same docker volume.</p>
<p>An example of this can be seen in the root <code>docker-compose.yaml</code> file: <code>OB_VOLUME_NAME=singulatron-data</code>.</p>
<p>So cycle goes like this:</p>
<ul>
<li>1Backend container writes to <code>/root/.1backend</code>, which is mounted to the volume <code>singulatron-data</code></li>
<li>Assets (which are basically downloaded files) will be passed to containers created by 1Backend by mounting files in <code>singulatron-data</code>.</li>
</ul></div></div></div><div class="row"><div class="col col--12"><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/configuration">configuration</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/envars">envars</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/backend">backend</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/daemon">daemon</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/setup">setup</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/1backend/1backend/tree/main/docs-source/docs/running-the-server/backend-environment-variables.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></div></div></article><div class="row"><div class="col col--12"><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/running-the-server/frontend-environment-variables"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Frontend Environment Variables</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/running-the-server/using"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Once the 1Backend server is running</div></a></nav></div></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ob_contact_email" class="table-of-contents__link toc-highlight"><code>OB_CONTACT_EMAIL</code></a></li><li><a href="#ob_db" class="table-of-contents__link toc-highlight"><code>OB_DB</code></a></li><li><a href="#ob_db_prefix" class="table-of-contents__link toc-highlight"><code>OB_DB_PREFIX</code></a><ul><li><a href="#postgresql" class="table-of-contents__link toc-highlight">PostgreSQL</a></li></ul></li><li><a href="#ob_edge_proxy" class="table-of-contents__link toc-highlight"><code>OB_EDGE_PROXY</code></a></li><li><a href="#ob_edge_proxy_test_mode" class="table-of-contents__link toc-highlight"><code>OB_EDGE_PROXY_TEST_MODE</code></a></li><li><a href="#ob_edge_proxy_http_port" class="table-of-contents__link toc-highlight"><code>OB_EDGE_PROXY_HTTP_PORT</code></a></li><li><a href="#ob_edge_proxy_https_port" class="table-of-contents__link toc-highlight"><code>OB_EDGE_PROXY_HTTPS_PORT</code></a></li><li><a href="#ob_encryption_key" class="table-of-contents__link toc-highlight"><code>OB_ENCRYPTION_KEY</code></a></li><li><a href="#ob_folder" class="table-of-contents__link toc-highlight"><code>OB_FOLDER</code></a></li><li><a href="#ob_gpu_platform" class="table-of-contents__link toc-highlight"><code>OB_GPU_PLATFORM</code></a></li><li><a href="#ob_llm_host" class="table-of-contents__link toc-highlight"><code>OB_LLM_HOST</code></a></li><li><a href="#ob_node_id" class="table-of-contents__link toc-highlight"><code>OB_NODE_ID</code></a></li><li><a href="#ob_server_url" class="table-of-contents__link toc-highlight"><code>OB_SERVER_URL</code></a></li><li><a href="#ob_self_url" class="table-of-contents__link toc-highlight"><code>OB_SELF_URL</code></a></li><li><a href="#ob_sync_certs_to_files" class="table-of-contents__link toc-highlight"><code>OB_SYNC_CERTS_TO_FILES</code></a><ul><li><a href="#directory-structure" class="table-of-contents__link toc-highlight">Directory Structure</a></li><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a></li></ul></li><li><a href="#ob_test" class="table-of-contents__link toc-highlight"><code>OB_TEST</code></a></li><li><a href="#ob_token_auto_refresh_off" class="table-of-contents__link toc-highlight"><code>OB_TOKEN_AUTO_REFRESH_OFF</code></a></li><li><a href="#ob_token_expiration" class="table-of-contents__link toc-highlight"><code>OB_TOKEN_EXPIRATION</code></a></li><li><a href="#ob_volume_name" class="table-of-contents__link toc-highlight"><code>OB_VOLUME_NAME</code></a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://1backend.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">1backend.com<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://singulatron.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">singulatron.com<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discordapp.com/enroll/eRXyzeXEvM" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/singulatron" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/1backend/1backend" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 1Backend, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>